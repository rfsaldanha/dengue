{
  "hash": "8e2cf1af88fe560ab167f530ca8c3ba5",
  "result": {
    "markdown": "---\ntitle: \"Global Model\"\nauthor: \"Raphael Saldanha\"\ndate: last-modified\n---\n\n\n## Packages\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(tidyverse)\nlibrary(arrow)\nlibrary(tidymodels)\nlibrary(finetune)\nlibrary(modeltime)\nlibrary(timetk)\nlibrary(tictoc)\n```\n:::\n\n\n## Load data\n\nAnd remove rows with NAs\n\n\n::: {.cell}\n\n```{.r .cell-code}\ntdengue <- read_parquet(file = \"tdengue.parquet\") %>%\n  drop_na()\n```\n:::\n\n\n## Cluster\n\nAssign random groups. To use a cluster algorithm later.\n\n\n::: {.cell}\n\n```{.r .cell-code}\ntdengue <- tdengue %>%\n  mutate(group = sample(x = 4, size = nrow(.), replace = TRUE))\n```\n:::\n\n\n## Train and test split\n\n\n::: {.cell}\n\n```{.r .cell-code}\ntdengue_split <- tdengue %>%\n  time_series_split(\n    date_var = date, \n    assess = 24,\n    cumulative = TRUE\n  )\n```\n\n::: {.cell-output .cell-output-stderr}\n```\nData is not ordered by the 'date_var'. Resamples will be arranged by `date`.\n```\n:::\n\n::: {.cell-output .cell-output-stderr}\n```\nOverlapping Timestamps Detected. Processing overlapping time series together using sliding windows.\n```\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nsaveRDS(object = tdengue_split, file = \"tdengue_split.rds\")\n```\n:::\n\n\n## K-folds\n\n\n::: {.cell}\n\n```{.r .cell-code}\ntdengue_split_folds <- training(tdengue_split) %>%\n  vfold_cv(v = 10)\n```\n:::\n\n\n## Recipes\n\n### Global\n\nUsing data from all municipalities.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nrecipe_global <- recipe(cases ~ ., data = training(tdengue_split)) %>%\n  step_rm(mun, group)\n```\n:::\n\n\n### Groups\n\nOne recipe for each group, with data only from the group.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nrecipe_group1 <- recipe(cases ~ ., data = training(tdengue_split)) %>%\n  step_filter(group == 1) %>%\n  step_rm(mun, group)\n```\n:::\n\n\n## Models\n\n### Random forest\n\n\n::: {.cell}\n\n```{.r .cell-code}\nrf_spec <- rand_forest(\n  mtry = tune(),\n  trees = tune(),\n  min_n = tune()\n) %>%\n  set_engine(\"ranger\") %>%\n  set_mode(\"regression\")\n```\n:::\n\n\n## Workflow\n\n\n::: {.cell}\n\n```{.r .cell-code}\nrf_wf_global <- workflow() %>%\n  add_recipe(recipe_global) %>%\n  add_model(rf_spec)\n\nrf_wf_group1 <- workflow() %>%\n  add_recipe(recipe_group1) %>%\n  add_model(rf_spec)\n```\n:::\n\n\n## Prepare parallel computation\n\n\n::: {.cell}\n\n```{.r .cell-code}\ndoParallel::registerDoParallel()\n```\n:::\n\n\n## Tune\n\n\n::: {.cell}\n\n```{.r .cell-code}\nset.seed(123)\n\ngrid_spec <- grid_latin_hypercube(\n  extract_parameter_set_dials(rf_spec) %>% \n    update(mtry = mtry(range = c(1, 10))), # 1, 20\n  size = 10 # 20 \n)\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\ntic()\ntune_results_race_global <- tune_race_anova(\n  object = rf_wf_global, \n  resamples = tdengue_split_folds, \n  grid = grid_spec, \n  control = control_race(parallel_over = \"everything\")\n)\ntoc()\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n72.81 sec elapsed\n```\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\ntic()\ntune_results_race_group1 <- tune_race_anova(\n  object = rf_wf_group1, \n  resamples = tdengue_split_folds, \n  grid = grid_spec, \n  control = control_race(parallel_over = \"everything\")\n)\ntoc()\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n15.45 sec elapsed\n```\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\ntune_results_race_global %>% show_best()\n```\n\n::: {.cell-output .cell-output-stderr}\n```\nWarning: No value of `metric` was given; metric 'rmse' will be used.\n```\n:::\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 1 × 9\n   mtry trees min_n .metric .estimator  mean     n std_err .config              \n  <int> <int> <int> <chr>   <chr>      <dbl> <int>   <dbl> <chr>                \n1    10   773     6 rmse    standard    156.    10    19.6 Preprocessor1_Model05\n```\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\ntune_results_race_group1 %>% show_best()\n```\n\n::: {.cell-output .cell-output-stderr}\n```\nWarning: No value of `metric` was given; metric 'rmse' will be used.\n```\n:::\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 1 × 9\n   mtry trees min_n .metric .estimator  mean     n std_err .config              \n  <int> <int> <int> <chr>   <chr>      <dbl> <int>   <dbl> <chr>                \n1    10   773     6 rmse    standard    176.    10    24.4 Preprocessor1_Model05\n```\n:::\n:::\n\n\n## Select and fit best model\n\n### Global\n\n\n::: {.cell}\n\n```{.r .cell-code}\nbest_fit <- rf_wf_global %>%\n  finalize_workflow(select_best(tune_results_race_global, \"rmse\", n = 1)) %>%\n  fit(training(tdengue_split))\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nmodeltime_table(best_fit) %>%\n  modeltime_calibrate(testing(tdengue_split)) %>%\n  modeltime_accuracy()\n```\n\n::: {.cell-output .cell-output-stderr}\n```\nℹ We have detected a possible intermittent series, you can change the default metric set to the extended_forecast_accuracy_metric_set() containing the MAAPE metric, which is more appropriate for this type of series.\n```\n:::\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 1 × 9\n  .model_id .model_desc .type   mae  mape  mase smape  rmse   rsq\n      <int> <chr>       <chr> <dbl> <dbl> <dbl> <dbl> <dbl> <dbl>\n1         1 RANGER      Test   75.9   Inf 0.495  78.3  213. 0.670\n```\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nmodeltime_table(best_fit) %>%\n  modeltime_calibrate(testing(tdengue_split)) %>%\n  modeltime_forecast(\n    new_data = testing(tdengue_split),\n    actual_data = tdengue,\n    keep_data = TRUE\n  ) %>%\n  filter(mun == 330455) %>%\n  plot_modeltime_forecast(.conf_interval_show = FALSE)\n```\n\n::: {.cell-output-display}\n```{=html}\n<div class=\"plotly html-widget html-fill-item-overflow-hidden html-fill-item\" id=\"htmlwidget-efd0980d1ca6ea020dd6\" style=\"width:100%;height:464px;\"></div>\n<script type=\"application/json\" data-for=\"htmlwidget-efd0980d1ca6ea020dd6\">{\"x\":{\"data\":[{\"x\":[\"2012-01-01\",\"2012-02-01\",\"2012-03-01\",\"2012-04-01\",\"2012-05-01\",\"2012-06-01\",\"2012-07-01\",\"2012-08-01\",\"2012-09-01\",\"2012-10-01\",\"2012-11-01\",\"2012-12-01\",\"2013-01-01\",\"2013-02-01\",\"2013-03-01\",\"2013-04-01\",\"2013-05-01\",\"2013-06-01\",\"2013-07-01\",\"2013-08-01\",\"2013-09-01\",\"2013-10-01\",\"2013-11-01\",\"2013-12-01\",\"2014-01-01\",\"2014-02-01\",\"2014-03-01\",\"2014-04-01\",\"2014-05-01\",\"2014-06-01\",\"2014-07-01\",\"2014-08-01\",\"2014-09-01\",\"2014-10-01\",\"2014-11-01\",\"2014-12-01\",\"2015-01-01\",\"2015-02-01\",\"2015-03-01\",\"2015-04-01\",\"2015-05-01\",\"2015-06-01\",\"2015-07-01\",\"2015-08-01\",\"2015-09-01\",\"2015-10-01\",\"2015-11-01\",\"2015-12-01\",\"2016-01-01\",\"2016-02-01\",\"2016-03-01\",\"2016-04-01\",\"2016-05-01\",\"2016-06-01\",\"2016-07-01\",\"2016-08-01\",\"2016-09-01\",\"2016-10-01\",\"2016-11-01\",\"2016-12-01\",\"2017-01-01\",\"2017-02-01\",\"2017-03-01\",\"2017-04-01\",\"2017-05-01\",\"2017-06-01\",\"2017-07-01\",\"2017-08-01\",\"2017-09-01\",\"2017-10-01\",\"2017-11-01\",\"2017-12-01\",\"2018-01-01\",\"2018-02-01\",\"2018-03-01\",\"2018-04-01\",\"2018-05-01\",\"2018-06-01\",\"2018-07-01\",\"2018-08-01\",\"2018-09-01\",\"2018-10-01\",\"2018-11-01\",\"2018-12-01\",\"2019-01-01\",\"2019-02-01\",\"2019-03-01\",\"2019-04-01\",\"2019-05-01\",\"2019-06-01\",\"2019-07-01\",\"2019-08-01\",\"2019-09-01\",\"2019-10-01\",\"2019-11-01\",\"2019-12-01\",\"2020-01-01\",\"2020-02-01\",\"2020-03-01\",\"2020-04-01\",\"2020-05-01\",\"2020-06-01\",\"2020-07-01\"],\"y\":[22.170000000000002,28.850000000000001,99.180000000000007,206.77000000000001,136.56999999999999,33.689999999999998,6.6699999999999999,4.6600000000000001,2.4300000000000002,2.21,1.98,4.7699999999999996,16.420000000000002,37.210000000000001,169.16999999999999,152,23.91,6.8399999999999999,2.1000000000000001,0.92000000000000004,0.59999999999999998,0.68999999999999995,0.82999999999999996,1.1499999999999999,2.0699999999999998,1.3100000000000001,1.1299999999999999,1.22,0.93000000000000005,0.79000000000000004,0.46000000000000002,0.53000000000000003,1.22,0.96999999999999997,1.05,0.53000000000000003,0.89000000000000001,1.53,5.5800000000000001,16.989999999999998,19.140000000000001,13.720000000000001,6.5599999999999996,3.46,1.5800000000000001,1.1200000000000001,2.2400000000000002,4.29,4.7699999999999996,5.8799999999999999,10.85,16.989999999999998,6.8600000000000003,4.8300000000000001,5.25,2.3999999999999999,1.7,1.51,2.7200000000000002,4.9900000000000002,10.98,8.6400000000000006,6.4900000000000002,5.0499999999999998,3.4399999999999999,1.5800000000000001,1.6699999999999999,1.47,1.77,2.7200000000000002,2.21,2.7599999999999998,5.1100000000000003,4.25,9.3100000000000005,12.98,12.81,8.0399999999999991,7.0899999999999999,3.4100000000000001,2.3599999999999999,2.8100000000000001,3.3799999999999999,6.3499999999999996,9.2300000000000004,7.0800000000000001,21.82,59.149999999999999,77.560000000000002,32.579999999999998,12.119999999999999,4.96,2.7200000000000002,3.1099999999999999,2.5899999999999999,2.7999999999999998,4.1500000000000004,2.77,2.1200000000000001,1.29,0.60999999999999999,0.40000000000000002,0.57999999999999996],\"text\":[\".index: 2012-01-01<br />.value:  22.1700000<br />.color_mod: ACTUAL<br />.color_mod: ACTUAL\",\".index: 2012-02-01<br />.value:  28.8500000<br />.color_mod: ACTUAL<br />.color_mod: ACTUAL\",\".index: 2012-03-01<br />.value:  99.1800000<br />.color_mod: ACTUAL<br />.color_mod: ACTUAL\",\".index: 2012-04-01<br />.value: 206.7700000<br />.color_mod: ACTUAL<br />.color_mod: ACTUAL\",\".index: 2012-05-01<br />.value: 136.5700000<br />.color_mod: ACTUAL<br />.color_mod: ACTUAL\",\".index: 2012-06-01<br />.value:  33.6900000<br />.color_mod: ACTUAL<br />.color_mod: ACTUAL\",\".index: 2012-07-01<br />.value:   6.6700000<br />.color_mod: ACTUAL<br />.color_mod: ACTUAL\",\".index: 2012-08-01<br />.value:   4.6600000<br />.color_mod: ACTUAL<br />.color_mod: ACTUAL\",\".index: 2012-09-01<br />.value:   2.4300000<br />.color_mod: ACTUAL<br />.color_mod: ACTUAL\",\".index: 2012-10-01<br />.value:   2.2100000<br />.color_mod: ACTUAL<br />.color_mod: ACTUAL\",\".index: 2012-11-01<br />.value:   1.9800000<br />.color_mod: ACTUAL<br />.color_mod: ACTUAL\",\".index: 2012-12-01<br />.value:   4.7700000<br />.color_mod: ACTUAL<br />.color_mod: ACTUAL\",\".index: 2013-01-01<br />.value:  16.4200000<br />.color_mod: ACTUAL<br />.color_mod: ACTUAL\",\".index: 2013-02-01<br />.value:  37.2100000<br />.color_mod: ACTUAL<br />.color_mod: ACTUAL\",\".index: 2013-03-01<br />.value: 169.1700000<br />.color_mod: ACTUAL<br />.color_mod: ACTUAL\",\".index: 2013-04-01<br />.value: 152.0000000<br />.color_mod: ACTUAL<br />.color_mod: ACTUAL\",\".index: 2013-05-01<br />.value:  23.9100000<br />.color_mod: ACTUAL<br />.color_mod: ACTUAL\",\".index: 2013-06-01<br />.value:   6.8400000<br />.color_mod: ACTUAL<br />.color_mod: ACTUAL\",\".index: 2013-07-01<br />.value:   2.1000000<br />.color_mod: ACTUAL<br />.color_mod: ACTUAL\",\".index: 2013-08-01<br />.value:   0.9200000<br />.color_mod: ACTUAL<br />.color_mod: ACTUAL\",\".index: 2013-09-01<br />.value:   0.6000000<br />.color_mod: ACTUAL<br />.color_mod: ACTUAL\",\".index: 2013-10-01<br />.value:   0.6900000<br />.color_mod: ACTUAL<br />.color_mod: ACTUAL\",\".index: 2013-11-01<br />.value:   0.8300000<br />.color_mod: ACTUAL<br />.color_mod: ACTUAL\",\".index: 2013-12-01<br />.value:   1.1500000<br />.color_mod: ACTUAL<br />.color_mod: ACTUAL\",\".index: 2014-01-01<br />.value:   2.0700000<br />.color_mod: ACTUAL<br />.color_mod: ACTUAL\",\".index: 2014-02-01<br />.value:   1.3100000<br />.color_mod: ACTUAL<br />.color_mod: ACTUAL\",\".index: 2014-03-01<br />.value:   1.1300000<br />.color_mod: ACTUAL<br />.color_mod: ACTUAL\",\".index: 2014-04-01<br />.value:   1.2200000<br />.color_mod: ACTUAL<br />.color_mod: ACTUAL\",\".index: 2014-05-01<br />.value:   0.9300000<br />.color_mod: ACTUAL<br />.color_mod: ACTUAL\",\".index: 2014-06-01<br />.value:   0.7900000<br />.color_mod: ACTUAL<br />.color_mod: ACTUAL\",\".index: 2014-07-01<br />.value:   0.4600000<br />.color_mod: ACTUAL<br />.color_mod: ACTUAL\",\".index: 2014-08-01<br />.value:   0.5300000<br />.color_mod: ACTUAL<br />.color_mod: ACTUAL\",\".index: 2014-09-01<br />.value:   1.2200000<br />.color_mod: ACTUAL<br />.color_mod: ACTUAL\",\".index: 2014-10-01<br />.value:   0.9700000<br />.color_mod: ACTUAL<br />.color_mod: ACTUAL\",\".index: 2014-11-01<br />.value:   1.0500000<br />.color_mod: ACTUAL<br />.color_mod: ACTUAL\",\".index: 2014-12-01<br />.value:   0.5300000<br />.color_mod: ACTUAL<br />.color_mod: ACTUAL\",\".index: 2015-01-01<br />.value:   0.8900000<br />.color_mod: ACTUAL<br />.color_mod: ACTUAL\",\".index: 2015-02-01<br />.value:   1.5300000<br />.color_mod: ACTUAL<br />.color_mod: ACTUAL\",\".index: 2015-03-01<br />.value:   5.5800000<br />.color_mod: ACTUAL<br />.color_mod: ACTUAL\",\".index: 2015-04-01<br />.value:  16.9900000<br />.color_mod: ACTUAL<br />.color_mod: ACTUAL\",\".index: 2015-05-01<br />.value:  19.1400000<br />.color_mod: ACTUAL<br />.color_mod: ACTUAL\",\".index: 2015-06-01<br />.value:  13.7200000<br />.color_mod: ACTUAL<br />.color_mod: ACTUAL\",\".index: 2015-07-01<br />.value:   6.5600000<br />.color_mod: ACTUAL<br />.color_mod: ACTUAL\",\".index: 2015-08-01<br />.value:   3.4600000<br />.color_mod: ACTUAL<br />.color_mod: ACTUAL\",\".index: 2015-09-01<br />.value:   1.5800000<br />.color_mod: ACTUAL<br />.color_mod: ACTUAL\",\".index: 2015-10-01<br />.value:   1.1200000<br />.color_mod: ACTUAL<br />.color_mod: ACTUAL\",\".index: 2015-11-01<br />.value:   2.2400000<br />.color_mod: ACTUAL<br />.color_mod: ACTUAL\",\".index: 2015-12-01<br />.value:   4.2900000<br />.color_mod: ACTUAL<br />.color_mod: ACTUAL\",\".index: 2016-01-01<br />.value:   4.7700000<br />.color_mod: ACTUAL<br />.color_mod: ACTUAL\",\".index: 2016-02-01<br />.value:   5.8800000<br />.color_mod: ACTUAL<br />.color_mod: ACTUAL\",\".index: 2016-03-01<br />.value:  10.8500000<br />.color_mod: ACTUAL<br />.color_mod: ACTUAL\",\".index: 2016-04-01<br />.value:  16.9900000<br />.color_mod: ACTUAL<br />.color_mod: ACTUAL\",\".index: 2016-05-01<br />.value:   6.8600000<br />.color_mod: ACTUAL<br />.color_mod: ACTUAL\",\".index: 2016-06-01<br />.value:   4.8300000<br />.color_mod: ACTUAL<br />.color_mod: ACTUAL\",\".index: 2016-07-01<br />.value:   5.2500000<br />.color_mod: ACTUAL<br />.color_mod: ACTUAL\",\".index: 2016-08-01<br />.value:   2.4000000<br />.color_mod: ACTUAL<br />.color_mod: ACTUAL\",\".index: 2016-09-01<br />.value:   1.7000000<br />.color_mod: ACTUAL<br />.color_mod: ACTUAL\",\".index: 2016-10-01<br />.value:   1.5100000<br />.color_mod: ACTUAL<br />.color_mod: ACTUAL\",\".index: 2016-11-01<br />.value:   2.7200000<br />.color_mod: ACTUAL<br />.color_mod: ACTUAL\",\".index: 2016-12-01<br />.value:   4.9900000<br />.color_mod: ACTUAL<br />.color_mod: ACTUAL\",\".index: 2017-01-01<br />.value:  10.9800000<br />.color_mod: ACTUAL<br />.color_mod: ACTUAL\",\".index: 2017-02-01<br />.value:   8.6400000<br />.color_mod: ACTUAL<br />.color_mod: ACTUAL\",\".index: 2017-03-01<br />.value:   6.4900000<br />.color_mod: ACTUAL<br />.color_mod: ACTUAL\",\".index: 2017-04-01<br />.value:   5.0500000<br />.color_mod: ACTUAL<br />.color_mod: ACTUAL\",\".index: 2017-05-01<br />.value:   3.4400000<br />.color_mod: ACTUAL<br />.color_mod: ACTUAL\",\".index: 2017-06-01<br />.value:   1.5800000<br />.color_mod: ACTUAL<br />.color_mod: ACTUAL\",\".index: 2017-07-01<br />.value:   1.6700000<br />.color_mod: ACTUAL<br />.color_mod: ACTUAL\",\".index: 2017-08-01<br />.value:   1.4700000<br />.color_mod: ACTUAL<br />.color_mod: ACTUAL\",\".index: 2017-09-01<br />.value:   1.7700000<br />.color_mod: ACTUAL<br />.color_mod: ACTUAL\",\".index: 2017-10-01<br />.value:   2.7200000<br />.color_mod: ACTUAL<br />.color_mod: ACTUAL\",\".index: 2017-11-01<br />.value:   2.2100000<br />.color_mod: ACTUAL<br />.color_mod: ACTUAL\",\".index: 2017-12-01<br />.value:   2.7600000<br />.color_mod: ACTUAL<br />.color_mod: ACTUAL\",\".index: 2018-01-01<br />.value:   5.1100000<br />.color_mod: ACTUAL<br />.color_mod: ACTUAL\",\".index: 2018-02-01<br />.value:   4.2500000<br />.color_mod: ACTUAL<br />.color_mod: ACTUAL\",\".index: 2018-03-01<br />.value:   9.3100000<br />.color_mod: ACTUAL<br />.color_mod: ACTUAL\",\".index: 2018-04-01<br />.value:  12.9800000<br />.color_mod: ACTUAL<br />.color_mod: ACTUAL\",\".index: 2018-05-01<br />.value:  12.8100000<br />.color_mod: ACTUAL<br />.color_mod: ACTUAL\",\".index: 2018-06-01<br />.value:   8.0400000<br />.color_mod: ACTUAL<br />.color_mod: ACTUAL\",\".index: 2018-07-01<br />.value:   7.0900000<br />.color_mod: ACTUAL<br />.color_mod: ACTUAL\",\".index: 2018-08-01<br />.value:   3.4100000<br />.color_mod: ACTUAL<br />.color_mod: ACTUAL\",\".index: 2018-09-01<br />.value:   2.3600000<br />.color_mod: ACTUAL<br />.color_mod: ACTUAL\",\".index: 2018-10-01<br />.value:   2.8100000<br />.color_mod: ACTUAL<br />.color_mod: ACTUAL\",\".index: 2018-11-01<br />.value:   3.3800000<br />.color_mod: ACTUAL<br />.color_mod: ACTUAL\",\".index: 2018-12-01<br />.value:   6.3500000<br />.color_mod: ACTUAL<br />.color_mod: ACTUAL\",\".index: 2019-01-01<br />.value:   9.2300000<br />.color_mod: ACTUAL<br />.color_mod: ACTUAL\",\".index: 2019-02-01<br />.value:   7.0800000<br />.color_mod: ACTUAL<br />.color_mod: ACTUAL\",\".index: 2019-03-01<br />.value:  21.8200000<br />.color_mod: ACTUAL<br />.color_mod: ACTUAL\",\".index: 2019-04-01<br />.value:  59.1500000<br />.color_mod: ACTUAL<br />.color_mod: ACTUAL\",\".index: 2019-05-01<br />.value:  77.5600000<br />.color_mod: ACTUAL<br />.color_mod: ACTUAL\",\".index: 2019-06-01<br />.value:  32.5800000<br />.color_mod: ACTUAL<br />.color_mod: ACTUAL\",\".index: 2019-07-01<br />.value:  12.1200000<br />.color_mod: ACTUAL<br />.color_mod: ACTUAL\",\".index: 2019-08-01<br />.value:   4.9600000<br />.color_mod: ACTUAL<br />.color_mod: ACTUAL\",\".index: 2019-09-01<br />.value:   2.7200000<br />.color_mod: ACTUAL<br />.color_mod: ACTUAL\",\".index: 2019-10-01<br />.value:   3.1100000<br />.color_mod: ACTUAL<br />.color_mod: ACTUAL\",\".index: 2019-11-01<br />.value:   2.5900000<br />.color_mod: ACTUAL<br />.color_mod: ACTUAL\",\".index: 2019-12-01<br />.value:   2.8000000<br />.color_mod: ACTUAL<br />.color_mod: ACTUAL\",\".index: 2020-01-01<br />.value:   4.1500000<br />.color_mod: ACTUAL<br />.color_mod: ACTUAL\",\".index: 2020-02-01<br />.value:   2.7700000<br />.color_mod: ACTUAL<br />.color_mod: ACTUAL\",\".index: 2020-03-01<br />.value:   2.1200000<br />.color_mod: ACTUAL<br />.color_mod: ACTUAL\",\".index: 2020-04-01<br />.value:   1.2900000<br />.color_mod: ACTUAL<br />.color_mod: ACTUAL\",\".index: 2020-05-01<br />.value:   0.6100000<br />.color_mod: ACTUAL<br />.color_mod: ACTUAL\",\".index: 2020-06-01<br />.value:   0.4000000<br />.color_mod: ACTUAL<br />.color_mod: ACTUAL\",\".index: 2020-07-01<br />.value:   0.5800000<br />.color_mod: ACTUAL<br />.color_mod: ACTUAL\"],\"type\":\"scatter\",\"mode\":\"lines\",\"line\":{\"width\":1.8897637795275593,\"color\":\"rgba(44,62,80,1)\",\"dash\":\"solid\"},\"hoveron\":\"points\",\"name\":\"ACTUAL\",\"legendgroup\":\"ACTUAL\",\"showlegend\":true,\"xaxis\":\"x\",\"yaxis\":\"y\",\"hoverinfo\":\"text\",\"frame\":null},{\"x\":[\"2018-08-01\",\"2018-09-01\",\"2018-10-01\",\"2018-11-01\",\"2018-12-01\",\"2019-01-01\",\"2019-02-01\",\"2019-03-01\",\"2019-04-01\",\"2019-05-01\",\"2019-06-01\",\"2019-07-01\",\"2019-08-01\",\"2019-09-01\",\"2019-10-01\",\"2019-11-01\",\"2019-12-01\",\"2020-01-01\",\"2020-02-01\",\"2020-03-01\",\"2020-04-01\",\"2020-05-01\",\"2020-06-01\",\"2020-07-01\"],\"y\":[4.1878641655886168,3.0106134109529954,2.7907440707201361,3.3252736093143596,4.7316369124622675,15.598637849337708,29.267917230330529,33.076136541460194,44.757921223109143,67.079219780189831,43.843616968520877,17.958040319103038,8.8516489866321653,5.0426854247520474,12.370306980647378,19.328668152490575,23.449821387327983,30.006328675793181,20.186104364543812,15.989951826526205,11.690821241753905,4.8736433709671125,1.7934192574663717,0.92760155239327302],\"text\":[\".index: 2018-08-01<br />.value:   4.1878642<br />.color_mod: 1_RANGER<br />.color_mod: 1_RANGER\",\".index: 2018-09-01<br />.value:   3.0106134<br />.color_mod: 1_RANGER<br />.color_mod: 1_RANGER\",\".index: 2018-10-01<br />.value:   2.7907441<br />.color_mod: 1_RANGER<br />.color_mod: 1_RANGER\",\".index: 2018-11-01<br />.value:   3.3252736<br />.color_mod: 1_RANGER<br />.color_mod: 1_RANGER\",\".index: 2018-12-01<br />.value:   4.7316369<br />.color_mod: 1_RANGER<br />.color_mod: 1_RANGER\",\".index: 2019-01-01<br />.value:  15.5986378<br />.color_mod: 1_RANGER<br />.color_mod: 1_RANGER\",\".index: 2019-02-01<br />.value:  29.2679172<br />.color_mod: 1_RANGER<br />.color_mod: 1_RANGER\",\".index: 2019-03-01<br />.value:  33.0761365<br />.color_mod: 1_RANGER<br />.color_mod: 1_RANGER\",\".index: 2019-04-01<br />.value:  44.7579212<br />.color_mod: 1_RANGER<br />.color_mod: 1_RANGER\",\".index: 2019-05-01<br />.value:  67.0792198<br />.color_mod: 1_RANGER<br />.color_mod: 1_RANGER\",\".index: 2019-06-01<br />.value:  43.8436170<br />.color_mod: 1_RANGER<br />.color_mod: 1_RANGER\",\".index: 2019-07-01<br />.value:  17.9580403<br />.color_mod: 1_RANGER<br />.color_mod: 1_RANGER\",\".index: 2019-08-01<br />.value:   8.8516490<br />.color_mod: 1_RANGER<br />.color_mod: 1_RANGER\",\".index: 2019-09-01<br />.value:   5.0426854<br />.color_mod: 1_RANGER<br />.color_mod: 1_RANGER\",\".index: 2019-10-01<br />.value:  12.3703070<br />.color_mod: 1_RANGER<br />.color_mod: 1_RANGER\",\".index: 2019-11-01<br />.value:  19.3286682<br />.color_mod: 1_RANGER<br />.color_mod: 1_RANGER\",\".index: 2019-12-01<br />.value:  23.4498214<br />.color_mod: 1_RANGER<br />.color_mod: 1_RANGER\",\".index: 2020-01-01<br />.value:  30.0063287<br />.color_mod: 1_RANGER<br />.color_mod: 1_RANGER\",\".index: 2020-02-01<br />.value:  20.1861044<br />.color_mod: 1_RANGER<br />.color_mod: 1_RANGER\",\".index: 2020-03-01<br />.value:  15.9899518<br />.color_mod: 1_RANGER<br />.color_mod: 1_RANGER\",\".index: 2020-04-01<br />.value:  11.6908212<br />.color_mod: 1_RANGER<br />.color_mod: 1_RANGER\",\".index: 2020-05-01<br />.value:   4.8736434<br />.color_mod: 1_RANGER<br />.color_mod: 1_RANGER\",\".index: 2020-06-01<br />.value:   1.7934193<br />.color_mod: 1_RANGER<br />.color_mod: 1_RANGER\",\".index: 2020-07-01<br />.value:   0.9276016<br />.color_mod: 1_RANGER<br />.color_mod: 1_RANGER\"],\"type\":\"scatter\",\"mode\":\"lines\",\"line\":{\"width\":1.8897637795275593,\"color\":\"rgba(227,26,28,1)\",\"dash\":\"solid\"},\"hoveron\":\"points\",\"name\":\"1_RANGER\",\"legendgroup\":\"1_RANGER\",\"showlegend\":true,\"xaxis\":\"x\",\"yaxis\":\"y\",\"hoverinfo\":\"text\",\"frame\":null}],\"layout\":{\"margin\":{\"t\":43.762557077625573,\"r\":7.3059360730593621,\"b\":25.570776255707766,\"l\":28.493150684931514},\"plot_bgcolor\":\"rgba(255,255,255,1)\",\"paper_bgcolor\":\"rgba(255,255,255,1)\",\"font\":{\"color\":\"rgba(44,62,80,1)\",\"family\":\"\",\"size\":14.611872146118724},\"title\":{\"text\":\"Forecast Plot\",\"font\":{\"color\":\"rgba(44,62,80,1)\",\"family\":\"\",\"size\":17.534246575342465},\"x\":0,\"xref\":\"paper\"},\"xaxis\":{\"domain\":[0,1],\"automargin\":true,\"type\":\"date\",\"autorange\":true,\"range\":[\"2011-07-29\",\"2020-12-03\"],\"tickmode\":\"auto\",\"ticktext\":[\"2012\",\"2014\",\"2016\",\"2018\",\"2020\"],\"tickvals\":[15340,16071,16801,17532,18262],\"categoryorder\":\"array\",\"categoryarray\":[\"2012\",\"2014\",\"2016\",\"2018\",\"2020\"],\"nticks\":null,\"ticks\":\"outside\",\"tickcolor\":\"rgba(204,204,204,1)\",\"ticklen\":3.6529680365296811,\"tickwidth\":0.22139200221392005,\"showticklabels\":true,\"tickfont\":{\"color\":\"rgba(44,62,80,1)\",\"family\":\"\",\"size\":11.68949771689498},\"tickangle\":-0,\"showline\":false,\"linecolor\":null,\"linewidth\":0,\"showgrid\":true,\"gridcolor\":\"rgba(204,204,204,1)\",\"gridwidth\":0.22139200221392005,\"zeroline\":false,\"anchor\":\"y\",\"title\":{\"text\":\"\",\"font\":{\"color\":\"rgba(44,62,80,1)\",\"family\":\"\",\"size\":14.611872146118724}},\"hoverformat\":\".2f\"},\"yaxis\":{\"domain\":[0,1],\"automargin\":true,\"type\":\"linear\",\"autorange\":true,\"range\":[-9.9184999999999999,217.08850000000001],\"tickmode\":\"auto\",\"ticktext\":[\"0\",\"50\",\"100\",\"150\",\"200\"],\"tickvals\":[0,50,100,150,200],\"categoryorder\":\"array\",\"categoryarray\":[\"0\",\"50\",\"100\",\"150\",\"200\"],\"nticks\":null,\"ticks\":\"outside\",\"tickcolor\":\"rgba(204,204,204,1)\",\"ticklen\":3.6529680365296811,\"tickwidth\":0.22139200221392005,\"showticklabels\":true,\"tickfont\":{\"color\":\"rgba(44,62,80,1)\",\"family\":\"\",\"size\":11.68949771689498},\"tickangle\":-0,\"showline\":false,\"linecolor\":null,\"linewidth\":0,\"showgrid\":true,\"gridcolor\":\"rgba(204,204,204,1)\",\"gridwidth\":0.22139200221392005,\"zeroline\":false,\"anchor\":\"x\",\"title\":{\"text\":\"\",\"font\":{\"color\":\"rgba(44,62,80,1)\",\"family\":\"\",\"size\":14.611872146118724}},\"hoverformat\":\".2f\"},\"shapes\":[{\"type\":\"rect\",\"fillcolor\":\"transparent\",\"line\":{\"color\":\"rgba(44,62,80,1)\",\"width\":0.33208800332088001,\"linetype\":\"solid\"},\"yref\":\"paper\",\"xref\":\"paper\",\"x0\":0,\"x1\":1,\"y0\":0,\"y1\":1}],\"showlegend\":true,\"legend\":{\"bgcolor\":\"rgba(255,255,255,1)\",\"bordercolor\":\"transparent\",\"borderwidth\":1.8897637795275593,\"font\":{\"color\":\"rgba(44,62,80,1)\",\"family\":\"\",\"size\":11.68949771689498},\"title\":{\"text\":\"Legend\",\"font\":{\"color\":\"rgba(44,62,80,1)\",\"family\":\"\",\"size\":14.611872146118724}}},\"hovermode\":\"closest\",\"barmode\":\"relative\"},\"config\":{\"doubleClick\":\"reset\",\"modeBarButtonsToAdd\":[\"hoverclosest\",\"hovercompare\"],\"showSendToCloud\":false},\"source\":\"A\",\"attrs\":{\"213f5682429a3\":{\"x\":{},\"y\":{},\"colour\":{},\"type\":\"scatter\"}},\"cur_data\":\"213f5682429a3\",\"visdat\":{\"213f5682429a3\":[\"function (y) \",\"x\"]},\"highlight\":{\"on\":\"plotly_click\",\"persistent\":false,\"dynamic\":false,\"selectize\":false,\"opacityDim\":0.20000000000000001,\"selected\":{\"opacity\":1},\"debounce\":0},\"shinyEvents\":[\"plotly_hover\",\"plotly_click\",\"plotly_selected\",\"plotly_relayout\",\"plotly_brushed\",\"plotly_brushing\",\"plotly_clickannotation\",\"plotly_doubleclick\",\"plotly_deselect\",\"plotly_afterplot\",\"plotly_sunburstclick\"],\"base_url\":\"https://plot.ly\"},\"evals\":[],\"jsHooks\":[]}</script>\n```\n:::\n:::\n\n\n### Group 1\n\n\n::: {.cell}\n\n```{.r .cell-code}\nbest_fit <- rf_wf_group1 %>%\n  finalize_workflow(select_best(tune_results_race_group1, \"rmse\", n = 1)) %>%\n  fit(training(tdengue_split))\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nmodeltime_table(best_fit) %>%\n  modeltime_calibrate(testing(tdengue_split)) %>%\n  modeltime_accuracy()\n```\n\n::: {.cell-output .cell-output-stderr}\n```\nℹ We have detected a possible intermittent series, you can change the default metric set to the extended_forecast_accuracy_metric_set() containing the MAAPE metric, which is more appropriate for this type of series.\n```\n:::\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 1 × 9\n  .model_id .model_desc .type   mae  mape  mase smape  rmse   rsq\n      <int> <chr>       <chr> <dbl> <dbl> <dbl> <dbl> <dbl> <dbl>\n1         1 RANGER      Test   80.4   Inf 0.525  82.7  213. 0.674\n```\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nmodeltime_table(best_fit) %>%\n  modeltime_calibrate(testing(tdengue_split)) %>%\n  modeltime_forecast(\n    new_data = testing(tdengue_split),\n    actual_data = tdengue,\n    keep_data = TRUE\n  ) %>%\n  filter(mun == 330455) %>%\n  plot_modeltime_forecast(.conf_interval_show = FALSE)\n```\n\n::: {.cell-output-display}\n```{=html}\n<div class=\"plotly html-widget html-fill-item-overflow-hidden html-fill-item\" id=\"htmlwidget-89c8419d29fc7fd19670\" style=\"width:100%;height:464px;\"></div>\n<script type=\"application/json\" data-for=\"htmlwidget-89c8419d29fc7fd19670\">{\"x\":{\"data\":[{\"x\":[\"2012-01-01\",\"2012-02-01\",\"2012-03-01\",\"2012-04-01\",\"2012-05-01\",\"2012-06-01\",\"2012-07-01\",\"2012-08-01\",\"2012-09-01\",\"2012-10-01\",\"2012-11-01\",\"2012-12-01\",\"2013-01-01\",\"2013-02-01\",\"2013-03-01\",\"2013-04-01\",\"2013-05-01\",\"2013-06-01\",\"2013-07-01\",\"2013-08-01\",\"2013-09-01\",\"2013-10-01\",\"2013-11-01\",\"2013-12-01\",\"2014-01-01\",\"2014-02-01\",\"2014-03-01\",\"2014-04-01\",\"2014-05-01\",\"2014-06-01\",\"2014-07-01\",\"2014-08-01\",\"2014-09-01\",\"2014-10-01\",\"2014-11-01\",\"2014-12-01\",\"2015-01-01\",\"2015-02-01\",\"2015-03-01\",\"2015-04-01\",\"2015-05-01\",\"2015-06-01\",\"2015-07-01\",\"2015-08-01\",\"2015-09-01\",\"2015-10-01\",\"2015-11-01\",\"2015-12-01\",\"2016-01-01\",\"2016-02-01\",\"2016-03-01\",\"2016-04-01\",\"2016-05-01\",\"2016-06-01\",\"2016-07-01\",\"2016-08-01\",\"2016-09-01\",\"2016-10-01\",\"2016-11-01\",\"2016-12-01\",\"2017-01-01\",\"2017-02-01\",\"2017-03-01\",\"2017-04-01\",\"2017-05-01\",\"2017-06-01\",\"2017-07-01\",\"2017-08-01\",\"2017-09-01\",\"2017-10-01\",\"2017-11-01\",\"2017-12-01\",\"2018-01-01\",\"2018-02-01\",\"2018-03-01\",\"2018-04-01\",\"2018-05-01\",\"2018-06-01\",\"2018-07-01\",\"2018-08-01\",\"2018-09-01\",\"2018-10-01\",\"2018-11-01\",\"2018-12-01\",\"2019-01-01\",\"2019-02-01\",\"2019-03-01\",\"2019-04-01\",\"2019-05-01\",\"2019-06-01\",\"2019-07-01\",\"2019-08-01\",\"2019-09-01\",\"2019-10-01\",\"2019-11-01\",\"2019-12-01\",\"2020-01-01\",\"2020-02-01\",\"2020-03-01\",\"2020-04-01\",\"2020-05-01\",\"2020-06-01\",\"2020-07-01\"],\"y\":[22.170000000000002,28.850000000000001,99.180000000000007,206.77000000000001,136.56999999999999,33.689999999999998,6.6699999999999999,4.6600000000000001,2.4300000000000002,2.21,1.98,4.7699999999999996,16.420000000000002,37.210000000000001,169.16999999999999,152,23.91,6.8399999999999999,2.1000000000000001,0.92000000000000004,0.59999999999999998,0.68999999999999995,0.82999999999999996,1.1499999999999999,2.0699999999999998,1.3100000000000001,1.1299999999999999,1.22,0.93000000000000005,0.79000000000000004,0.46000000000000002,0.53000000000000003,1.22,0.96999999999999997,1.05,0.53000000000000003,0.89000000000000001,1.53,5.5800000000000001,16.989999999999998,19.140000000000001,13.720000000000001,6.5599999999999996,3.46,1.5800000000000001,1.1200000000000001,2.2400000000000002,4.29,4.7699999999999996,5.8799999999999999,10.85,16.989999999999998,6.8600000000000003,4.8300000000000001,5.25,2.3999999999999999,1.7,1.51,2.7200000000000002,4.9900000000000002,10.98,8.6400000000000006,6.4900000000000002,5.0499999999999998,3.4399999999999999,1.5800000000000001,1.6699999999999999,1.47,1.77,2.7200000000000002,2.21,2.7599999999999998,5.1100000000000003,4.25,9.3100000000000005,12.98,12.81,8.0399999999999991,7.0899999999999999,3.4100000000000001,2.3599999999999999,2.8100000000000001,3.3799999999999999,6.3499999999999996,9.2300000000000004,7.0800000000000001,21.82,59.149999999999999,77.560000000000002,32.579999999999998,12.119999999999999,4.96,2.7200000000000002,3.1099999999999999,2.5899999999999999,2.7999999999999998,4.1500000000000004,2.77,2.1200000000000001,1.29,0.60999999999999999,0.40000000000000002,0.57999999999999996],\"text\":[\".index: 2012-01-01<br />.value:  22.170000<br />.color_mod: ACTUAL<br />.color_mod: ACTUAL\",\".index: 2012-02-01<br />.value:  28.850000<br />.color_mod: ACTUAL<br />.color_mod: ACTUAL\",\".index: 2012-03-01<br />.value:  99.180000<br />.color_mod: ACTUAL<br />.color_mod: ACTUAL\",\".index: 2012-04-01<br />.value: 206.770000<br />.color_mod: ACTUAL<br />.color_mod: ACTUAL\",\".index: 2012-05-01<br />.value: 136.570000<br />.color_mod: ACTUAL<br />.color_mod: ACTUAL\",\".index: 2012-06-01<br />.value:  33.690000<br />.color_mod: ACTUAL<br />.color_mod: ACTUAL\",\".index: 2012-07-01<br />.value:   6.670000<br />.color_mod: ACTUAL<br />.color_mod: ACTUAL\",\".index: 2012-08-01<br />.value:   4.660000<br />.color_mod: ACTUAL<br />.color_mod: ACTUAL\",\".index: 2012-09-01<br />.value:   2.430000<br />.color_mod: ACTUAL<br />.color_mod: ACTUAL\",\".index: 2012-10-01<br />.value:   2.210000<br />.color_mod: ACTUAL<br />.color_mod: ACTUAL\",\".index: 2012-11-01<br />.value:   1.980000<br />.color_mod: ACTUAL<br />.color_mod: ACTUAL\",\".index: 2012-12-01<br />.value:   4.770000<br />.color_mod: ACTUAL<br />.color_mod: ACTUAL\",\".index: 2013-01-01<br />.value:  16.420000<br />.color_mod: ACTUAL<br />.color_mod: ACTUAL\",\".index: 2013-02-01<br />.value:  37.210000<br />.color_mod: ACTUAL<br />.color_mod: ACTUAL\",\".index: 2013-03-01<br />.value: 169.170000<br />.color_mod: ACTUAL<br />.color_mod: ACTUAL\",\".index: 2013-04-01<br />.value: 152.000000<br />.color_mod: ACTUAL<br />.color_mod: ACTUAL\",\".index: 2013-05-01<br />.value:  23.910000<br />.color_mod: ACTUAL<br />.color_mod: ACTUAL\",\".index: 2013-06-01<br />.value:   6.840000<br />.color_mod: ACTUAL<br />.color_mod: ACTUAL\",\".index: 2013-07-01<br />.value:   2.100000<br />.color_mod: ACTUAL<br />.color_mod: ACTUAL\",\".index: 2013-08-01<br />.value:   0.920000<br />.color_mod: ACTUAL<br />.color_mod: ACTUAL\",\".index: 2013-09-01<br />.value:   0.600000<br />.color_mod: ACTUAL<br />.color_mod: ACTUAL\",\".index: 2013-10-01<br />.value:   0.690000<br />.color_mod: ACTUAL<br />.color_mod: ACTUAL\",\".index: 2013-11-01<br />.value:   0.830000<br />.color_mod: ACTUAL<br />.color_mod: ACTUAL\",\".index: 2013-12-01<br />.value:   1.150000<br />.color_mod: ACTUAL<br />.color_mod: ACTUAL\",\".index: 2014-01-01<br />.value:   2.070000<br />.color_mod: ACTUAL<br />.color_mod: ACTUAL\",\".index: 2014-02-01<br />.value:   1.310000<br />.color_mod: ACTUAL<br />.color_mod: ACTUAL\",\".index: 2014-03-01<br />.value:   1.130000<br />.color_mod: ACTUAL<br />.color_mod: ACTUAL\",\".index: 2014-04-01<br />.value:   1.220000<br />.color_mod: ACTUAL<br />.color_mod: ACTUAL\",\".index: 2014-05-01<br />.value:   0.930000<br />.color_mod: ACTUAL<br />.color_mod: ACTUAL\",\".index: 2014-06-01<br />.value:   0.790000<br />.color_mod: ACTUAL<br />.color_mod: ACTUAL\",\".index: 2014-07-01<br />.value:   0.460000<br />.color_mod: ACTUAL<br />.color_mod: ACTUAL\",\".index: 2014-08-01<br />.value:   0.530000<br />.color_mod: ACTUAL<br />.color_mod: ACTUAL\",\".index: 2014-09-01<br />.value:   1.220000<br />.color_mod: ACTUAL<br />.color_mod: ACTUAL\",\".index: 2014-10-01<br />.value:   0.970000<br />.color_mod: ACTUAL<br />.color_mod: ACTUAL\",\".index: 2014-11-01<br />.value:   1.050000<br />.color_mod: ACTUAL<br />.color_mod: ACTUAL\",\".index: 2014-12-01<br />.value:   0.530000<br />.color_mod: ACTUAL<br />.color_mod: ACTUAL\",\".index: 2015-01-01<br />.value:   0.890000<br />.color_mod: ACTUAL<br />.color_mod: ACTUAL\",\".index: 2015-02-01<br />.value:   1.530000<br />.color_mod: ACTUAL<br />.color_mod: ACTUAL\",\".index: 2015-03-01<br />.value:   5.580000<br />.color_mod: ACTUAL<br />.color_mod: ACTUAL\",\".index: 2015-04-01<br />.value:  16.990000<br />.color_mod: ACTUAL<br />.color_mod: ACTUAL\",\".index: 2015-05-01<br />.value:  19.140000<br />.color_mod: ACTUAL<br />.color_mod: ACTUAL\",\".index: 2015-06-01<br />.value:  13.720000<br />.color_mod: ACTUAL<br />.color_mod: ACTUAL\",\".index: 2015-07-01<br />.value:   6.560000<br />.color_mod: ACTUAL<br />.color_mod: ACTUAL\",\".index: 2015-08-01<br />.value:   3.460000<br />.color_mod: ACTUAL<br />.color_mod: ACTUAL\",\".index: 2015-09-01<br />.value:   1.580000<br />.color_mod: ACTUAL<br />.color_mod: ACTUAL\",\".index: 2015-10-01<br />.value:   1.120000<br />.color_mod: ACTUAL<br />.color_mod: ACTUAL\",\".index: 2015-11-01<br />.value:   2.240000<br />.color_mod: ACTUAL<br />.color_mod: ACTUAL\",\".index: 2015-12-01<br />.value:   4.290000<br />.color_mod: ACTUAL<br />.color_mod: ACTUAL\",\".index: 2016-01-01<br />.value:   4.770000<br />.color_mod: ACTUAL<br />.color_mod: ACTUAL\",\".index: 2016-02-01<br />.value:   5.880000<br />.color_mod: ACTUAL<br />.color_mod: ACTUAL\",\".index: 2016-03-01<br />.value:  10.850000<br />.color_mod: ACTUAL<br />.color_mod: ACTUAL\",\".index: 2016-04-01<br />.value:  16.990000<br />.color_mod: ACTUAL<br />.color_mod: ACTUAL\",\".index: 2016-05-01<br />.value:   6.860000<br />.color_mod: ACTUAL<br />.color_mod: ACTUAL\",\".index: 2016-06-01<br />.value:   4.830000<br />.color_mod: ACTUAL<br />.color_mod: ACTUAL\",\".index: 2016-07-01<br />.value:   5.250000<br />.color_mod: ACTUAL<br />.color_mod: ACTUAL\",\".index: 2016-08-01<br />.value:   2.400000<br />.color_mod: ACTUAL<br />.color_mod: ACTUAL\",\".index: 2016-09-01<br />.value:   1.700000<br />.color_mod: ACTUAL<br />.color_mod: ACTUAL\",\".index: 2016-10-01<br />.value:   1.510000<br />.color_mod: ACTUAL<br />.color_mod: ACTUAL\",\".index: 2016-11-01<br />.value:   2.720000<br />.color_mod: ACTUAL<br />.color_mod: ACTUAL\",\".index: 2016-12-01<br />.value:   4.990000<br />.color_mod: ACTUAL<br />.color_mod: ACTUAL\",\".index: 2017-01-01<br />.value:  10.980000<br />.color_mod: ACTUAL<br />.color_mod: ACTUAL\",\".index: 2017-02-01<br />.value:   8.640000<br />.color_mod: ACTUAL<br />.color_mod: ACTUAL\",\".index: 2017-03-01<br />.value:   6.490000<br />.color_mod: ACTUAL<br />.color_mod: ACTUAL\",\".index: 2017-04-01<br />.value:   5.050000<br />.color_mod: ACTUAL<br />.color_mod: ACTUAL\",\".index: 2017-05-01<br />.value:   3.440000<br />.color_mod: ACTUAL<br />.color_mod: ACTUAL\",\".index: 2017-06-01<br />.value:   1.580000<br />.color_mod: ACTUAL<br />.color_mod: ACTUAL\",\".index: 2017-07-01<br />.value:   1.670000<br />.color_mod: ACTUAL<br />.color_mod: ACTUAL\",\".index: 2017-08-01<br />.value:   1.470000<br />.color_mod: ACTUAL<br />.color_mod: ACTUAL\",\".index: 2017-09-01<br />.value:   1.770000<br />.color_mod: ACTUAL<br />.color_mod: ACTUAL\",\".index: 2017-10-01<br />.value:   2.720000<br />.color_mod: ACTUAL<br />.color_mod: ACTUAL\",\".index: 2017-11-01<br />.value:   2.210000<br />.color_mod: ACTUAL<br />.color_mod: ACTUAL\",\".index: 2017-12-01<br />.value:   2.760000<br />.color_mod: ACTUAL<br />.color_mod: ACTUAL\",\".index: 2018-01-01<br />.value:   5.110000<br />.color_mod: ACTUAL<br />.color_mod: ACTUAL\",\".index: 2018-02-01<br />.value:   4.250000<br />.color_mod: ACTUAL<br />.color_mod: ACTUAL\",\".index: 2018-03-01<br />.value:   9.310000<br />.color_mod: ACTUAL<br />.color_mod: ACTUAL\",\".index: 2018-04-01<br />.value:  12.980000<br />.color_mod: ACTUAL<br />.color_mod: ACTUAL\",\".index: 2018-05-01<br />.value:  12.810000<br />.color_mod: ACTUAL<br />.color_mod: ACTUAL\",\".index: 2018-06-01<br />.value:   8.040000<br />.color_mod: ACTUAL<br />.color_mod: ACTUAL\",\".index: 2018-07-01<br />.value:   7.090000<br />.color_mod: ACTUAL<br />.color_mod: ACTUAL\",\".index: 2018-08-01<br />.value:   3.410000<br />.color_mod: ACTUAL<br />.color_mod: ACTUAL\",\".index: 2018-09-01<br />.value:   2.360000<br />.color_mod: ACTUAL<br />.color_mod: ACTUAL\",\".index: 2018-10-01<br />.value:   2.810000<br />.color_mod: ACTUAL<br />.color_mod: ACTUAL\",\".index: 2018-11-01<br />.value:   3.380000<br />.color_mod: ACTUAL<br />.color_mod: ACTUAL\",\".index: 2018-12-01<br />.value:   6.350000<br />.color_mod: ACTUAL<br />.color_mod: ACTUAL\",\".index: 2019-01-01<br />.value:   9.230000<br />.color_mod: ACTUAL<br />.color_mod: ACTUAL\",\".index: 2019-02-01<br />.value:   7.080000<br />.color_mod: ACTUAL<br />.color_mod: ACTUAL\",\".index: 2019-03-01<br />.value:  21.820000<br />.color_mod: ACTUAL<br />.color_mod: ACTUAL\",\".index: 2019-04-01<br />.value:  59.150000<br />.color_mod: ACTUAL<br />.color_mod: ACTUAL\",\".index: 2019-05-01<br />.value:  77.560000<br />.color_mod: ACTUAL<br />.color_mod: ACTUAL\",\".index: 2019-06-01<br />.value:  32.580000<br />.color_mod: ACTUAL<br />.color_mod: ACTUAL\",\".index: 2019-07-01<br />.value:  12.120000<br />.color_mod: ACTUAL<br />.color_mod: ACTUAL\",\".index: 2019-08-01<br />.value:   4.960000<br />.color_mod: ACTUAL<br />.color_mod: ACTUAL\",\".index: 2019-09-01<br />.value:   2.720000<br />.color_mod: ACTUAL<br />.color_mod: ACTUAL\",\".index: 2019-10-01<br />.value:   3.110000<br />.color_mod: ACTUAL<br />.color_mod: ACTUAL\",\".index: 2019-11-01<br />.value:   2.590000<br />.color_mod: ACTUAL<br />.color_mod: ACTUAL\",\".index: 2019-12-01<br />.value:   2.800000<br />.color_mod: ACTUAL<br />.color_mod: ACTUAL\",\".index: 2020-01-01<br />.value:   4.150000<br />.color_mod: ACTUAL<br />.color_mod: ACTUAL\",\".index: 2020-02-01<br />.value:   2.770000<br />.color_mod: ACTUAL<br />.color_mod: ACTUAL\",\".index: 2020-03-01<br />.value:   2.120000<br />.color_mod: ACTUAL<br />.color_mod: ACTUAL\",\".index: 2020-04-01<br />.value:   1.290000<br />.color_mod: ACTUAL<br />.color_mod: ACTUAL\",\".index: 2020-05-01<br />.value:   0.610000<br />.color_mod: ACTUAL<br />.color_mod: ACTUAL\",\".index: 2020-06-01<br />.value:   0.400000<br />.color_mod: ACTUAL<br />.color_mod: ACTUAL\",\".index: 2020-07-01<br />.value:   0.580000<br />.color_mod: ACTUAL<br />.color_mod: ACTUAL\"],\"type\":\"scatter\",\"mode\":\"lines\",\"line\":{\"width\":1.8897637795275593,\"color\":\"rgba(44,62,80,1)\",\"dash\":\"solid\"},\"hoveron\":\"points\",\"name\":\"ACTUAL\",\"legendgroup\":\"ACTUAL\",\"showlegend\":true,\"xaxis\":\"x\",\"yaxis\":\"y\",\"hoverinfo\":\"text\",\"frame\":null},{\"x\":[\"2018-08-01\",\"2018-09-01\",\"2018-10-01\",\"2018-11-01\",\"2018-12-01\",\"2019-01-01\",\"2019-02-01\",\"2019-03-01\",\"2019-04-01\",\"2019-05-01\",\"2019-06-01\",\"2019-07-01\",\"2019-08-01\",\"2019-09-01\",\"2019-10-01\",\"2019-11-01\",\"2019-12-01\",\"2020-01-01\",\"2020-02-01\",\"2020-03-01\",\"2020-04-01\",\"2020-05-01\",\"2020-06-01\",\"2020-07-01\"],\"y\":[4.4838147908581254,3.459612332902108,3.1826002473843085,3.5881744286330322,6.3914866321690385,12.586482679315793,34.263279843260754,43.082121658042283,65.679150793650777,76.505601125895339,53.12423717119448,21.346238680465731,8.6623234152651865,6.5244290642518363,6.0524553686934057,27.516886373436851,33.416109109734585,38.523691653929575,38.354178956446795,22.604322258810619,22.337993962915039,9.6116289817574962,2.0701125485122889,4.2364009271237597],\"text\":[\".index: 2018-08-01<br />.value:   4.483815<br />.color_mod: 1_RANGER<br />.color_mod: 1_RANGER\",\".index: 2018-09-01<br />.value:   3.459612<br />.color_mod: 1_RANGER<br />.color_mod: 1_RANGER\",\".index: 2018-10-01<br />.value:   3.182600<br />.color_mod: 1_RANGER<br />.color_mod: 1_RANGER\",\".index: 2018-11-01<br />.value:   3.588174<br />.color_mod: 1_RANGER<br />.color_mod: 1_RANGER\",\".index: 2018-12-01<br />.value:   6.391487<br />.color_mod: 1_RANGER<br />.color_mod: 1_RANGER\",\".index: 2019-01-01<br />.value:  12.586483<br />.color_mod: 1_RANGER<br />.color_mod: 1_RANGER\",\".index: 2019-02-01<br />.value:  34.263280<br />.color_mod: 1_RANGER<br />.color_mod: 1_RANGER\",\".index: 2019-03-01<br />.value:  43.082122<br />.color_mod: 1_RANGER<br />.color_mod: 1_RANGER\",\".index: 2019-04-01<br />.value:  65.679151<br />.color_mod: 1_RANGER<br />.color_mod: 1_RANGER\",\".index: 2019-05-01<br />.value:  76.505601<br />.color_mod: 1_RANGER<br />.color_mod: 1_RANGER\",\".index: 2019-06-01<br />.value:  53.124237<br />.color_mod: 1_RANGER<br />.color_mod: 1_RANGER\",\".index: 2019-07-01<br />.value:  21.346239<br />.color_mod: 1_RANGER<br />.color_mod: 1_RANGER\",\".index: 2019-08-01<br />.value:   8.662323<br />.color_mod: 1_RANGER<br />.color_mod: 1_RANGER\",\".index: 2019-09-01<br />.value:   6.524429<br />.color_mod: 1_RANGER<br />.color_mod: 1_RANGER\",\".index: 2019-10-01<br />.value:   6.052455<br />.color_mod: 1_RANGER<br />.color_mod: 1_RANGER\",\".index: 2019-11-01<br />.value:  27.516886<br />.color_mod: 1_RANGER<br />.color_mod: 1_RANGER\",\".index: 2019-12-01<br />.value:  33.416109<br />.color_mod: 1_RANGER<br />.color_mod: 1_RANGER\",\".index: 2020-01-01<br />.value:  38.523692<br />.color_mod: 1_RANGER<br />.color_mod: 1_RANGER\",\".index: 2020-02-01<br />.value:  38.354179<br />.color_mod: 1_RANGER<br />.color_mod: 1_RANGER\",\".index: 2020-03-01<br />.value:  22.604322<br />.color_mod: 1_RANGER<br />.color_mod: 1_RANGER\",\".index: 2020-04-01<br />.value:  22.337994<br />.color_mod: 1_RANGER<br />.color_mod: 1_RANGER\",\".index: 2020-05-01<br />.value:   9.611629<br />.color_mod: 1_RANGER<br />.color_mod: 1_RANGER\",\".index: 2020-06-01<br />.value:   2.070113<br />.color_mod: 1_RANGER<br />.color_mod: 1_RANGER\",\".index: 2020-07-01<br />.value:   4.236401<br />.color_mod: 1_RANGER<br />.color_mod: 1_RANGER\"],\"type\":\"scatter\",\"mode\":\"lines\",\"line\":{\"width\":1.8897637795275593,\"color\":\"rgba(227,26,28,1)\",\"dash\":\"solid\"},\"hoveron\":\"points\",\"name\":\"1_RANGER\",\"legendgroup\":\"1_RANGER\",\"showlegend\":true,\"xaxis\":\"x\",\"yaxis\":\"y\",\"hoverinfo\":\"text\",\"frame\":null}],\"layout\":{\"margin\":{\"t\":43.762557077625573,\"r\":7.3059360730593621,\"b\":25.570776255707766,\"l\":28.493150684931514},\"plot_bgcolor\":\"rgba(255,255,255,1)\",\"paper_bgcolor\":\"rgba(255,255,255,1)\",\"font\":{\"color\":\"rgba(44,62,80,1)\",\"family\":\"\",\"size\":14.611872146118724},\"title\":{\"text\":\"Forecast Plot\",\"font\":{\"color\":\"rgba(44,62,80,1)\",\"family\":\"\",\"size\":17.534246575342465},\"x\":0,\"xref\":\"paper\"},\"xaxis\":{\"domain\":[0,1],\"automargin\":true,\"type\":\"date\",\"autorange\":true,\"range\":[\"2011-07-29\",\"2020-12-03\"],\"tickmode\":\"auto\",\"ticktext\":[\"2012\",\"2014\",\"2016\",\"2018\",\"2020\"],\"tickvals\":[15340,16071,16801,17532,18262],\"categoryorder\":\"array\",\"categoryarray\":[\"2012\",\"2014\",\"2016\",\"2018\",\"2020\"],\"nticks\":null,\"ticks\":\"outside\",\"tickcolor\":\"rgba(204,204,204,1)\",\"ticklen\":3.6529680365296811,\"tickwidth\":0.22139200221392005,\"showticklabels\":true,\"tickfont\":{\"color\":\"rgba(44,62,80,1)\",\"family\":\"\",\"size\":11.68949771689498},\"tickangle\":-0,\"showline\":false,\"linecolor\":null,\"linewidth\":0,\"showgrid\":true,\"gridcolor\":\"rgba(204,204,204,1)\",\"gridwidth\":0.22139200221392005,\"zeroline\":false,\"anchor\":\"y\",\"title\":{\"text\":\"\",\"font\":{\"color\":\"rgba(44,62,80,1)\",\"family\":\"\",\"size\":14.611872146118724}},\"hoverformat\":\".2f\"},\"yaxis\":{\"domain\":[0,1],\"automargin\":true,\"type\":\"linear\",\"autorange\":true,\"range\":[-9.9184999999999999,217.08850000000001],\"tickmode\":\"auto\",\"ticktext\":[\"0\",\"50\",\"100\",\"150\",\"200\"],\"tickvals\":[0,50,100,150,200],\"categoryorder\":\"array\",\"categoryarray\":[\"0\",\"50\",\"100\",\"150\",\"200\"],\"nticks\":null,\"ticks\":\"outside\",\"tickcolor\":\"rgba(204,204,204,1)\",\"ticklen\":3.6529680365296811,\"tickwidth\":0.22139200221392005,\"showticklabels\":true,\"tickfont\":{\"color\":\"rgba(44,62,80,1)\",\"family\":\"\",\"size\":11.68949771689498},\"tickangle\":-0,\"showline\":false,\"linecolor\":null,\"linewidth\":0,\"showgrid\":true,\"gridcolor\":\"rgba(204,204,204,1)\",\"gridwidth\":0.22139200221392005,\"zeroline\":false,\"anchor\":\"x\",\"title\":{\"text\":\"\",\"font\":{\"color\":\"rgba(44,62,80,1)\",\"family\":\"\",\"size\":14.611872146118724}},\"hoverformat\":\".2f\"},\"shapes\":[{\"type\":\"rect\",\"fillcolor\":\"transparent\",\"line\":{\"color\":\"rgba(44,62,80,1)\",\"width\":0.33208800332088001,\"linetype\":\"solid\"},\"yref\":\"paper\",\"xref\":\"paper\",\"x0\":0,\"x1\":1,\"y0\":0,\"y1\":1}],\"showlegend\":true,\"legend\":{\"bgcolor\":\"rgba(255,255,255,1)\",\"bordercolor\":\"transparent\",\"borderwidth\":1.8897637795275593,\"font\":{\"color\":\"rgba(44,62,80,1)\",\"family\":\"\",\"size\":11.68949771689498},\"title\":{\"text\":\"Legend\",\"font\":{\"color\":\"rgba(44,62,80,1)\",\"family\":\"\",\"size\":14.611872146118724}}},\"hovermode\":\"closest\",\"barmode\":\"relative\"},\"config\":{\"doubleClick\":\"reset\",\"modeBarButtonsToAdd\":[\"hoverclosest\",\"hovercompare\"],\"showSendToCloud\":false},\"source\":\"A\",\"attrs\":{\"213f56f36bb0e\":{\"x\":{},\"y\":{},\"colour\":{},\"type\":\"scatter\"}},\"cur_data\":\"213f56f36bb0e\",\"visdat\":{\"213f56f36bb0e\":[\"function (y) \",\"x\"]},\"highlight\":{\"on\":\"plotly_click\",\"persistent\":false,\"dynamic\":false,\"selectize\":false,\"opacityDim\":0.20000000000000001,\"selected\":{\"opacity\":1},\"debounce\":0},\"shinyEvents\":[\"plotly_hover\",\"plotly_click\",\"plotly_selected\",\"plotly_relayout\",\"plotly_brushed\",\"plotly_brushing\",\"plotly_clickannotation\",\"plotly_doubleclick\",\"plotly_deselect\",\"plotly_afterplot\",\"plotly_sunburstclick\"],\"base_url\":\"https://plot.ly\"},\"evals\":[],\"jsHooks\":[]}</script>\n```\n:::\n:::\n\n\n## Session info\n\n\n::: {.cell}\n\n```{.r .cell-code}\nsessionInfo()\n```\n\n::: {.cell-output .cell-output-stdout}\n```\nR version 4.1.2 (2021-11-01)\nPlatform: x86_64-pc-linux-gnu (64-bit)\nRunning under: Ubuntu 22.04.2 LTS\n\nMatrix products: default\nBLAS:   /usr/lib/x86_64-linux-gnu/blas/libblas.so.3.10.0\nLAPACK: /usr/lib/x86_64-linux-gnu/lapack/liblapack.so.3.10.0\n\nlocale:\n [1] LC_CTYPE=pt_BR.UTF-8       LC_NUMERIC=C              \n [3] LC_TIME=en_US.UTF-8        LC_COLLATE=en_US.UTF-8    \n [5] LC_MONETARY=en_US.UTF-8    LC_MESSAGES=en_US.UTF-8   \n [7] LC_PAPER=en_US.UTF-8       LC_NAME=C                 \n [9] LC_ADDRESS=C               LC_TELEPHONE=C            \n[11] LC_MEASUREMENT=en_US.UTF-8 LC_IDENTIFICATION=C       \n\nattached base packages:\n[1] stats     graphics  grDevices utils     datasets  methods   base     \n\nother attached packages:\n [1] rlang_1.1.1        ranger_0.15.1      tictoc_1.2         timetk_2.8.3      \n [5] modeltime_1.2.6    finetune_1.1.0     yardstick_1.2.0    workflowsets_1.0.1\n [9] workflows_1.1.3    tune_1.1.1         rsample_1.1.1      recipes_1.0.6     \n[13] parsnip_1.1.0      modeldata_1.1.0    infer_1.0.4        dials_1.2.0       \n[17] scales_1.2.1       broom_1.0.5        tidymodels_1.1.0   arrow_12.0.1      \n[21] lubridate_1.9.2    forcats_1.0.0      stringr_1.5.0      dplyr_1.1.2       \n[25] purrr_1.0.1        readr_2.1.4        tidyr_1.3.0        tibble_3.2.1      \n[29] ggplot2_3.4.2      tidyverse_2.0.0   \n\nloaded via a namespace (and not attached):\n [1] minqa_1.2.5         colorspace_2.1-0    ellipsis_0.3.2     \n [4] class_7.3-20        rstudioapi_0.14     listenv_0.9.0      \n [7] furrr_0.3.1         bit64_4.0.5         prodlim_2023.03.31 \n[10] fansi_1.0.4         codetools_0.2-18    splines_4.1.2      \n[13] doParallel_1.0.17   knitr_1.43          jsonlite_1.8.5     \n[16] nloptr_2.0.3        httr_1.4.6          compiler_4.1.2     \n[19] backports_1.4.1     lazyeval_0.2.2      assertthat_0.2.1   \n[22] Matrix_1.5-4.1      fastmap_1.1.1       cli_3.6.1          \n[25] htmltools_0.5.5     tools_4.1.2         gtable_0.3.3       \n[28] glue_1.6.2          Rcpp_1.0.10         DiceDesign_1.9     \n[31] vctrs_0.6.3         nlme_3.1-155        crosstalk_1.2.0    \n[34] iterators_1.0.14    timeDate_4022.108   gower_1.0.1        \n[37] xfun_0.39           globals_0.16.2      lme4_1.1-33        \n[40] timechange_0.2.0    lifecycle_1.0.3     future_1.32.0      \n[43] MASS_7.3-55         zoo_1.8-12          ipred_0.9-14       \n[46] hms_1.1.3           parallel_4.1.2      yaml_2.3.7         \n[49] StanHeaders_2.26.27 rpart_4.1.16        stringi_1.7.12     \n[52] foreach_1.5.2       lhs_1.1.6           hardhat_1.3.0      \n[55] boot_1.3-28         lava_1.7.2.1        pkgconfig_2.0.3    \n[58] evaluate_0.21       lattice_0.20-45     labeling_0.4.2     \n[61] htmlwidgets_1.6.2   bit_4.0.5           tidyselect_1.2.0   \n[64] parallelly_1.36.0   magrittr_2.0.3      R6_2.5.1           \n[67] generics_0.1.3      pillar_1.9.0        withr_2.5.0        \n[70] xts_0.13.1          survival_3.2-13     nnet_7.3-17        \n[73] future.apply_1.11.0 utf8_1.2.3          plotly_4.10.2      \n[76] tzdb_0.4.0          rmarkdown_2.22      grid_4.1.2         \n[79] data.table_1.14.8   digest_0.6.31       RcppParallel_5.1.7 \n[82] GPfit_1.0-8         munsell_0.5.0       viridisLite_0.4.2  \n```\n:::\n:::\n",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {
      "include-in-header": [
        "<script src=\"../site_libs/htmlwidgets-1.6.2/htmlwidgets.js\"></script>\n<script src=\"../site_libs/plotly-binding-4.10.2/plotly.js\"></script>\n<script src=\"../site_libs/typedarray-0.1/typedarray.min.js\"></script>\n<script src=\"../site_libs/jquery-3.5.1/jquery.min.js\"></script>\n<link href=\"../site_libs/crosstalk-1.2.0/css/crosstalk.min.css\" rel=\"stylesheet\" />\n<script src=\"../site_libs/crosstalk-1.2.0/js/crosstalk.min.js\"></script>\n<link href=\"../site_libs/plotly-htmlwidgets-css-2.11.1/plotly-htmlwidgets.css\" rel=\"stylesheet\" />\n<script src=\"../site_libs/plotly-main-2.11.1/plotly-latest.min.js\"></script>\n"
      ]
    },
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}