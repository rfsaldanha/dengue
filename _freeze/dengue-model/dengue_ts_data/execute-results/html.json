{
  "hash": "c3c01468ea3fae27b85c5c92fd620db6",
  "result": {
    "markdown": "---\ntitle: \"Data preparing\"\nauthor: \"Raphael Saldanha\"\ndate: last-modified\n---\n\n\n## Packages\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(tidyverse)\nlibrary(arrow)\nlibrary(brpop)\nlibrary(tidymodels)\nlibrary(timetk)\n```\n:::\n\n\n## Data\n\n### Dengue\n\n\n::: {.cell}\n\n```{.r .cell-code}\ndengue <- read_parquet(\"../dengue-data/parquet_aggregated/dengue_md.parquet\") %>%\n  group_by(mun) %>%\n  summarise_by_time(.date_var = date, .by = \"week\", freq = sum(freq, na.rm = TRUE)) %>%\n  ungroup() %>%\n  rename(cases = freq)\n```\n:::\n\n\n### Population\n\n\n::: {.cell}\n\n```{.r .cell-code}\npop <- mun_pop_totals() %>%\n  filter(year %in% seq(year(min(dengue$date)), year(max(dengue$date)))) %>%\n  mutate(mun = as.character(mun))\n```\n:::\n\n\n### Precipitation\n\n\n::: {.cell}\n\n```{.r .cell-code}\nprec <- open_dataset(sources = \"../weather-data/parquet/brdwgd/pr.parquet\") %>%\n  filter(name == \"pr_sum\") %>%\n  select(date, value) %>%\n  collect() %>%\n  filter(date >= min(dengue$date) & date <= max(dengue$date)) %>%\n  summarise_by_time(.date_var = date, .by = \"week\", value = sum(value, na.rm = TRUE)) %>%\n  rename(prec = value)\n```\n:::\n\n\n### Average maximum temperature\n\n\n::: {.cell}\n\n```{.r .cell-code}\ntmax <- open_dataset(sources = \"../weather-data/parquet/brdwgd/tmax.parquet\") %>%\n  filter(name == \"Tmax_mean\") %>%\n  select(date, value) %>%\n  collect() %>%\n  filter(date >= min(dengue$date) & date <= max(dengue$date)) %>%\n  summarise_by_time(.date_var = date, .by = \"week\", value = mean(value, na.rm = TRUE)) %>%\n  rename(tmax = value)\n```\n:::\n\n\n### Join data\n\n\n::: {.cell}\n\n```{.r .cell-code}\ntdengue <- dengue %>%\n  mutate(dengue_year = year(date)) %>%\n  inner_join(pop, by = c(\"dengue_year\" = \"year\", \"mun\")) %>%\n  select(-dengue_year) %>%\n  inner_join(prec, by = \"date\") %>%\n  inner_join(tmax, by = \"date\")\n\nrm(dengue, pop, prec, tmax)\n```\n:::\n\n\n### Cleaning and basic features\n\n\n::: {.cell}\n\n```{.r .cell-code}\ntdengue <- tdengue %>%\n  # Remove municipalilities with zero population\n  filter(pop != 0) %>%\n  # Keep only municipalities series with more than 3000 cases total\n  group_by(mun) %>%\n  mutate(total = sum(cases, na.rm = TRUE)) %>%\n  ungroup() %>%\n  filter(total >= 3000) %>%\n  select(-total) %>%\n  # Compute dengue rate per population\n  mutate(cases = cases/pop*100000) %>%\n  # Remove population\n  select(-pop) %>%\n  # Round values\nmutate(across(c(cases, prec, tmax), ~ round(.x, digits = 2)))\n```\n:::\n\n\nMunicipalities remaining at the dataset: 380\n\n### Standardize measures\n\n\n::: {.cell}\n\n```{.r .cell-code}\ntdengue <- tdengue %>%\n  group_by(mun) %>%\n  mutate(across(c(cases, prec, tmax), ~ standardize_vec(.x, silent = TRUE))) %>%\n  ungroup()\n```\n:::\n\n\n### Lag and rolling lag variables\n\n\n::: {.cell}\n\n```{.r .cell-code}\ntdengue <- tdengue %>%\n  group_by(mun) %>%\n  tk_augment_lags(.value = c(cases, prec, tmax), .lags = 1:12) %>%\n  tk_augment_slidify(\n    .value = contains(\"_lag\"), \n    .period = c(2, 3, 4, 6, 8, 12), \n    .f = ~ mean(.x, na.rm = TRUE), \n    .partial = TRUE,\n    .align   = \"center\"\n  ) %>%\n  ungroup()\n```\n:::\n\n\n## Overview\n\n\n::: {.cell}\n\n```{.r .cell-code}\nglimpse(tdengue)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\nRows: 189,435\nColumns: 257\n$ mun                 <chr> \"110020\", \"110020\", \"110020\", \"110020\", \"110020\", …\n$ date                <date> 2011-01-02, 2011-01-09, 2011-01-16, 2011-01-23, 2…\n$ cases               <dbl> 0.21498612, 0.12493100, -0.14932775, 0.39918976, 0…\n$ prec                <dbl> 1.596419304, 1.609636627, 1.566803779, 1.181363781…\n$ tmax                <dbl> 0.32005544, 0.42531861, 0.57490312, 0.82975080, 0.…\n$ cases_lag1          <dbl> NA, 0.21498612, 0.12493100, -0.14932775, 0.3991897…\n$ prec_lag1           <dbl> NA, 1.596419304, 1.609636627, 1.566803779, 1.18136…\n$ tmax_lag1           <dbl> NA, 0.32005544, 0.42531861, 0.57490312, 0.82975080…\n$ cases_lag2          <dbl> NA, NA, 0.21498612, 0.12493100, -0.14932775, 0.399…\n$ prec_lag2           <dbl> NA, NA, 1.596419304, 1.609636627, 1.566803779, 1.1…\n$ tmax_lag2           <dbl> NA, NA, 0.32005544, 0.42531861, 0.57490312, 0.8297…\n$ cases_lag3          <dbl> NA, NA, NA, 0.21498612, 0.12493100, -0.14932775, 0…\n$ prec_lag3           <dbl> NA, NA, NA, 1.596419304, 1.609636627, 1.566803779,…\n$ tmax_lag3           <dbl> NA, NA, NA, 0.32005544, 0.42531861, 0.57490312, 0.…\n$ cases_lag4          <dbl> NA, NA, NA, NA, 0.21498612, 0.12493100, -0.1493277…\n$ prec_lag4           <dbl> NA, NA, NA, NA, 1.596419304, 1.609636627, 1.566803…\n$ tmax_lag4           <dbl> NA, NA, NA, NA, 0.32005544, 0.42531861, 0.57490312…\n$ cases_lag5          <dbl> NA, NA, NA, NA, NA, 0.21498612, 0.12493100, -0.149…\n$ prec_lag5           <dbl> NA, NA, NA, NA, NA, 1.596419304, 1.609636627, 1.56…\n$ tmax_lag5           <dbl> NA, NA, NA, NA, NA, 0.32005544, 0.42531861, 0.5749…\n$ cases_lag6          <dbl> NA, NA, NA, NA, NA, NA, 0.21498612, 0.12493100, -0…\n$ prec_lag6           <dbl> NA, NA, NA, NA, NA, NA, 1.596419304, 1.609636627, …\n$ tmax_lag6           <dbl> NA, NA, NA, NA, NA, NA, 0.32005544, 0.42531861, 0.…\n$ cases_lag7          <dbl> NA, NA, NA, NA, NA, NA, NA, 0.21498612, 0.12493100…\n$ prec_lag7           <dbl> NA, NA, NA, NA, NA, NA, NA, 1.5964193, 1.6096366, …\n$ tmax_lag7           <dbl> NA, NA, NA, NA, NA, NA, NA, 0.32005544, 0.42531861…\n$ cases_lag8          <dbl> NA, NA, NA, NA, NA, NA, NA, NA, 0.21498612, 0.1249…\n$ prec_lag8           <dbl> NA, NA, NA, NA, NA, NA, NA, NA, 1.5964193, 1.60963…\n$ tmax_lag8           <dbl> NA, NA, NA, NA, NA, NA, NA, NA, 0.32005544, 0.4253…\n$ cases_lag9          <dbl> NA, NA, NA, NA, NA, NA, NA, NA, NA, 0.21498612, 0.…\n$ prec_lag9           <dbl> NA, NA, NA, NA, NA, NA, NA, NA, NA, 1.5964193, 1.6…\n$ tmax_lag9           <dbl> NA, NA, NA, NA, NA, NA, NA, NA, NA, 0.32005544, 0.…\n$ cases_lag10         <dbl> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, 0.21498612…\n$ prec_lag10          <dbl> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, 1.5964193,…\n$ tmax_lag10          <dbl> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, 0.32005544…\n$ cases_lag11         <dbl> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, 0.2149…\n$ prec_lag11          <dbl> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, 1.5964…\n$ tmax_lag11          <dbl> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, 0.3200…\n$ cases_lag12         <dbl> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, 0.…\n$ prec_lag12          <dbl> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, 1.…\n$ tmax_lag12          <dbl> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, 0.…\n$ cases_lag1_roll_2   <dbl> 0.21498612, 0.16995856, -0.01219837, 0.12493100, 0…\n$ prec_lag1_roll_2    <dbl> 1.5964193, 1.6030280, 1.5882202, 1.3740838, 1.0637…\n$ tmax_lag1_roll_2    <dbl> 0.320055443, 0.372687029, 0.500110868, 0.702326961…\n$ cases_lag2_roll_2   <dbl> NaN, 0.21498612, 0.16995856, -0.01219837, 0.124931…\n$ prec_lag2_roll_2    <dbl> NaN, 1.5964193, 1.6030280, 1.5882202, 1.3740838, 1…\n$ tmax_lag2_roll_2    <dbl> NaN, 0.320055443, 0.372687029, 0.500110868, 0.7023…\n$ cases_lag3_roll_2   <dbl> NaN, NaN, 0.21498612, 0.16995856, -0.01219837, 0.1…\n$ prec_lag3_roll_2    <dbl> NaN, NaN, 1.5964193, 1.6030280, 1.5882202, 1.37408…\n$ tmax_lag3_roll_2    <dbl> NaN, NaN, 0.320055443, 0.372687029, 0.500110868, 0…\n$ cases_lag4_roll_2   <dbl> NaN, NaN, NaN, 0.21498612, 0.16995856, -0.01219837…\n$ prec_lag4_roll_2    <dbl> NaN, NaN, NaN, 1.5964193, 1.6030280, 1.5882202, 1.…\n$ tmax_lag4_roll_2    <dbl> NaN, NaN, NaN, 0.320055443, 0.372687029, 0.5001108…\n$ cases_lag5_roll_2   <dbl> NaN, NaN, NaN, NaN, 0.21498612, 0.16995856, -0.012…\n$ prec_lag5_roll_2    <dbl> NaN, NaN, NaN, NaN, 1.5964193, 1.6030280, 1.588220…\n$ tmax_lag5_roll_2    <dbl> NaN, NaN, NaN, NaN, 0.320055443, 0.372687029, 0.50…\n$ cases_lag6_roll_2   <dbl> NaN, NaN, NaN, NaN, NaN, 0.21498612, 0.16995856, -…\n$ prec_lag6_roll_2    <dbl> NaN, NaN, NaN, NaN, NaN, 1.5964193, 1.6030280, 1.5…\n$ tmax_lag6_roll_2    <dbl> NaN, NaN, NaN, NaN, NaN, 0.320055443, 0.372687029,…\n$ cases_lag7_roll_2   <dbl> NaN, NaN, NaN, NaN, NaN, NaN, 0.21498612, 0.169958…\n$ prec_lag7_roll_2    <dbl> NaN, NaN, NaN, NaN, NaN, NaN, 1.5964193, 1.6030280…\n$ tmax_lag7_roll_2    <dbl> NaN, NaN, NaN, NaN, NaN, NaN, 0.320055443, 0.37268…\n$ cases_lag8_roll_2   <dbl> NaN, NaN, NaN, NaN, NaN, NaN, NaN, 0.21498612, 0.1…\n$ prec_lag8_roll_2    <dbl> NaN, NaN, NaN, NaN, NaN, NaN, NaN, 1.5964193, 1.60…\n$ tmax_lag8_roll_2    <dbl> NaN, NaN, NaN, NaN, NaN, NaN, NaN, 0.320055443, 0.…\n$ cases_lag9_roll_2   <dbl> NaN, NaN, NaN, NaN, NaN, NaN, NaN, NaN, 0.21498612…\n$ prec_lag9_roll_2    <dbl> NaN, NaN, NaN, NaN, NaN, NaN, NaN, NaN, 1.5964193,…\n$ tmax_lag9_roll_2    <dbl> NaN, NaN, NaN, NaN, NaN, NaN, NaN, NaN, 0.32005544…\n$ cases_lag10_roll_2  <dbl> NaN, NaN, NaN, NaN, NaN, NaN, NaN, NaN, NaN, 0.214…\n$ prec_lag10_roll_2   <dbl> NaN, NaN, NaN, NaN, NaN, NaN, NaN, NaN, NaN, 1.596…\n$ tmax_lag10_roll_2   <dbl> NaN, NaN, NaN, NaN, NaN, NaN, NaN, NaN, NaN, 0.320…\n$ cases_lag11_roll_2  <dbl> NaN, NaN, NaN, NaN, NaN, NaN, NaN, NaN, NaN, NaN, …\n$ prec_lag11_roll_2   <dbl> NaN, NaN, NaN, NaN, NaN, NaN, NaN, NaN, NaN, NaN, …\n$ tmax_lag11_roll_2   <dbl> NaN, NaN, NaN, NaN, NaN, NaN, NaN, NaN, NaN, NaN, …\n$ cases_lag12_roll_2  <dbl> NaN, NaN, NaN, NaN, NaN, NaN, NaN, NaN, NaN, NaN, …\n$ prec_lag12_roll_2   <dbl> NaN, NaN, NaN, NaN, NaN, NaN, NaN, NaN, NaN, NaN, …\n$ tmax_lag12_roll_2   <dbl> NaN, NaN, NaN, NaN, NaN, NaN, NaN, NaN, NaN, NaN, …\n$ cases_lag1_roll_3   <dbl> 0.214986120, 0.169958562, 0.063529790, 0.124931005…\n$ prec_lag1_roll_3    <dbl> 1.59641930, 1.60302797, 1.59095324, 1.45260140, 1.…\n$ tmax_lag1_roll_3    <dbl> 0.3200554430, 0.3726870287, 0.4400923930, 0.609990…\n$ cases_lag2_roll_3   <dbl> NaN, 0.214986120, 0.169958562, 0.063529790, 0.1249…\n$ prec_lag2_roll_3    <dbl> NaN, 1.59641930, 1.60302797, 1.59095324, 1.4526014…\n$ tmax_lag2_roll_3    <dbl> NaN, 0.3200554430, 0.3726870287, 0.4400923930, 0.6…\n$ cases_lag3_roll_3   <dbl> NaN, NaN, 0.214986120, 0.169958562, 0.063529790, 0…\n$ prec_lag3_roll_3    <dbl> NaN, NaN, 1.59641930, 1.60302797, 1.59095324, 1.45…\n$ tmax_lag3_roll_3    <dbl> NaN, NaN, 0.3200554430, 0.3726870287, 0.4400923930…\n$ cases_lag4_roll_3   <dbl> NaN, NaN, NaN, 0.214986120, 0.169958562, 0.0635297…\n$ prec_lag4_roll_3    <dbl> NaN, NaN, NaN, 1.59641930, 1.60302797, 1.59095324,…\n$ tmax_lag4_roll_3    <dbl> NaN, NaN, NaN, 0.3200554430, 0.3726870287, 0.44009…\n$ cases_lag5_roll_3   <dbl> NaN, NaN, NaN, NaN, 0.214986120, 0.169958562, 0.06…\n$ prec_lag5_roll_3    <dbl> NaN, NaN, NaN, NaN, 1.59641930, 1.60302797, 1.5909…\n$ tmax_lag5_roll_3    <dbl> NaN, NaN, NaN, NaN, 0.3200554430, 0.3726870287, 0.…\n$ cases_lag6_roll_3   <dbl> NaN, NaN, NaN, NaN, NaN, 0.214986120, 0.169958562,…\n$ prec_lag6_roll_3    <dbl> NaN, NaN, NaN, NaN, NaN, 1.59641930, 1.60302797, 1…\n$ tmax_lag6_roll_3    <dbl> NaN, NaN, NaN, NaN, NaN, 0.3200554430, 0.372687028…\n$ cases_lag7_roll_3   <dbl> NaN, NaN, NaN, NaN, NaN, NaN, 0.214986120, 0.16995…\n$ prec_lag7_roll_3    <dbl> NaN, NaN, NaN, NaN, NaN, NaN, 1.59641930, 1.603027…\n$ tmax_lag7_roll_3    <dbl> NaN, NaN, NaN, NaN, NaN, NaN, 0.3200554430, 0.3726…\n$ cases_lag8_roll_3   <dbl> NaN, NaN, NaN, NaN, NaN, NaN, NaN, 0.214986120, 0.…\n$ prec_lag8_roll_3    <dbl> NaN, NaN, NaN, NaN, NaN, NaN, NaN, 1.59641930, 1.6…\n$ tmax_lag8_roll_3    <dbl> NaN, NaN, NaN, NaN, NaN, NaN, NaN, 0.3200554430, 0…\n$ cases_lag9_roll_3   <dbl> NaN, NaN, NaN, NaN, NaN, NaN, NaN, NaN, 0.21498612…\n$ prec_lag9_roll_3    <dbl> NaN, NaN, NaN, NaN, NaN, NaN, NaN, NaN, 1.5964193,…\n$ tmax_lag9_roll_3    <dbl> NaN, NaN, NaN, NaN, NaN, NaN, NaN, NaN, 0.32005544…\n$ cases_lag10_roll_3  <dbl> NaN, NaN, NaN, NaN, NaN, NaN, NaN, NaN, NaN, 0.214…\n$ prec_lag10_roll_3   <dbl> NaN, NaN, NaN, NaN, NaN, NaN, NaN, NaN, NaN, 1.596…\n$ tmax_lag10_roll_3   <dbl> NaN, NaN, NaN, NaN, NaN, NaN, NaN, NaN, NaN, 0.320…\n$ cases_lag11_roll_3  <dbl> NaN, NaN, NaN, NaN, NaN, NaN, NaN, NaN, NaN, NaN, …\n$ prec_lag11_roll_3   <dbl> NaN, NaN, NaN, NaN, NaN, NaN, NaN, NaN, NaN, NaN, …\n$ tmax_lag11_roll_3   <dbl> NaN, NaN, NaN, NaN, NaN, NaN, NaN, NaN, NaN, NaN, …\n$ cases_lag12_roll_3  <dbl> NaN, NaN, NaN, NaN, NaN, NaN, NaN, NaN, NaN, NaN, …\n$ prec_lag12_roll_3   <dbl> NaN, NaN, NaN, NaN, NaN, NaN, NaN, NaN, NaN, NaN, …\n$ tmax_lag12_roll_3   <dbl> NaN, NaN, NaN, NaN, NaN, NaN, NaN, NaN, NaN, NaN, …\n$ cases_lag1_roll_4   <dbl> 0.16995856, 0.06352979, 0.14744478, 0.26206038, 0.…\n$ prec_lag1_roll_4    <dbl> 1.60302797, 1.59095324, 1.48855587, 1.32598832, 1.…\n$ tmax_lag1_roll_4    <dbl> 0.37268703, 0.44009239, 0.53750699, 0.68709150, 0.…\n$ cases_lag2_roll_4   <dbl> 0.21498612, 0.16995856, 0.06352979, 0.14744478, 0.…\n$ prec_lag2_roll_4    <dbl> 1.59641930, 1.60302797, 1.59095324, 1.48855587, 1.…\n$ tmax_lag2_roll_4    <dbl> 0.32005544, 0.37268703, 0.44009239, 0.53750699, 0.…\n$ cases_lag3_roll_4   <dbl> NaN, 0.21498612, 0.16995856, 0.06352979, 0.1474447…\n$ prec_lag3_roll_4    <dbl> NaN, 1.59641930, 1.60302797, 1.59095324, 1.4885558…\n$ tmax_lag3_roll_4    <dbl> NaN, 0.32005544, 0.37268703, 0.44009239, 0.5375069…\n$ cases_lag4_roll_4   <dbl> NaN, NaN, 0.21498612, 0.16995856, 0.06352979, 0.14…\n$ prec_lag4_roll_4    <dbl> NaN, NaN, 1.59641930, 1.60302797, 1.59095324, 1.48…\n$ tmax_lag4_roll_4    <dbl> NaN, NaN, 0.32005544, 0.37268703, 0.44009239, 0.53…\n$ cases_lag5_roll_4   <dbl> NaN, NaN, NaN, 0.21498612, 0.16995856, 0.06352979,…\n$ prec_lag5_roll_4    <dbl> NaN, NaN, NaN, 1.59641930, 1.60302797, 1.59095324,…\n$ tmax_lag5_roll_4    <dbl> NaN, NaN, NaN, 0.32005544, 0.37268703, 0.44009239,…\n$ cases_lag6_roll_4   <dbl> NaN, NaN, NaN, NaN, 0.21498612, 0.16995856, 0.0635…\n$ prec_lag6_roll_4    <dbl> NaN, NaN, NaN, NaN, 1.59641930, 1.60302797, 1.5909…\n$ tmax_lag6_roll_4    <dbl> NaN, NaN, NaN, NaN, 0.32005544, 0.37268703, 0.4400…\n$ cases_lag7_roll_4   <dbl> NaN, NaN, NaN, NaN, NaN, 0.21498612, 0.16995856, 0…\n$ prec_lag7_roll_4    <dbl> NaN, NaN, NaN, NaN, NaN, 1.59641930, 1.60302797, 1…\n$ tmax_lag7_roll_4    <dbl> NaN, NaN, NaN, NaN, NaN, 0.32005544, 0.37268703, 0…\n$ cases_lag8_roll_4   <dbl> NaN, NaN, NaN, NaN, NaN, NaN, 0.21498612, 0.169958…\n$ prec_lag8_roll_4    <dbl> NaN, NaN, NaN, NaN, NaN, NaN, 1.59641930, 1.603027…\n$ tmax_lag8_roll_4    <dbl> NaN, NaN, NaN, NaN, NaN, NaN, 0.32005544, 0.372687…\n$ cases_lag9_roll_4   <dbl> NaN, NaN, NaN, NaN, NaN, NaN, NaN, 0.21498612, 0.1…\n$ prec_lag9_roll_4    <dbl> NaN, NaN, NaN, NaN, NaN, NaN, NaN, 1.59641930, 1.6…\n$ tmax_lag9_roll_4    <dbl> NaN, NaN, NaN, NaN, NaN, NaN, NaN, 0.32005544, 0.3…\n$ cases_lag10_roll_4  <dbl> NaN, NaN, NaN, NaN, NaN, NaN, NaN, NaN, 0.21498612…\n$ prec_lag10_roll_4   <dbl> NaN, NaN, NaN, NaN, NaN, NaN, NaN, NaN, 1.5964193,…\n$ tmax_lag10_roll_4   <dbl> NaN, NaN, NaN, NaN, NaN, NaN, NaN, NaN, 0.32005544…\n$ cases_lag11_roll_4  <dbl> NaN, NaN, NaN, NaN, NaN, NaN, NaN, NaN, NaN, 0.214…\n$ prec_lag11_roll_4   <dbl> NaN, NaN, NaN, NaN, NaN, NaN, NaN, NaN, NaN, 1.596…\n$ tmax_lag11_roll_4   <dbl> NaN, NaN, NaN, NaN, NaN, NaN, NaN, NaN, NaN, 0.320…\n$ cases_lag12_roll_4  <dbl> NaN, NaN, NaN, NaN, NaN, NaN, NaN, NaN, NaN, NaN, …\n$ prec_lag12_roll_4   <dbl> NaN, NaN, NaN, NaN, NaN, NaN, NaN, NaN, NaN, NaN, …\n$ tmax_lag12_roll_4   <dbl> NaN, NaN, NaN, NaN, NaN, NaN, NaN, NaN, NaN, NaN, …\n$ cases_lag1_roll_6   <dbl> 0.06352979, 0.14744478, 0.25264553, 0.20065917, 0.…\n$ prec_lag1_roll_6    <dbl> 1.59095324, 1.48855587, 1.38007452, 1.36383031, 1.…\n$ tmax_lag1_roll_6    <dbl> 0.44009239, 0.53750699, 0.61368429, 0.64230849, 0.…\n$ cases_lag2_roll_6   <dbl> 0.16995856, 0.06352979, 0.14744478, 0.25264553, 0.…\n$ prec_lag2_roll_6    <dbl> 1.60302797, 1.59095324, 1.48855587, 1.38007452, 1.…\n$ tmax_lag2_roll_6    <dbl> 0.37268703, 0.44009239, 0.53750699, 0.61368429, 0.…\n$ cases_lag3_roll_6   <dbl> 0.21498612, 0.16995856, 0.06352979, 0.14744478, 0.…\n$ prec_lag3_roll_6    <dbl> 1.59641930, 1.60302797, 1.59095324, 1.48855587, 1.…\n$ tmax_lag3_roll_6    <dbl> 0.32005544, 0.37268703, 0.44009239, 0.53750699, 0.…\n$ cases_lag4_roll_6   <dbl> NaN, 0.21498612, 0.16995856, 0.06352979, 0.1474447…\n$ prec_lag4_roll_6    <dbl> NaN, 1.59641930, 1.60302797, 1.59095324, 1.4885558…\n$ tmax_lag4_roll_6    <dbl> NaN, 0.32005544, 0.37268703, 0.44009239, 0.5375069…\n$ cases_lag5_roll_6   <dbl> NaN, NaN, 0.21498612, 0.16995856, 0.06352979, 0.14…\n$ prec_lag5_roll_6    <dbl> NaN, NaN, 1.59641930, 1.60302797, 1.59095324, 1.48…\n$ tmax_lag5_roll_6    <dbl> NaN, NaN, 0.32005544, 0.37268703, 0.44009239, 0.53…\n$ cases_lag6_roll_6   <dbl> NaN, NaN, NaN, 0.21498612, 0.16995856, 0.06352979,…\n$ prec_lag6_roll_6    <dbl> NaN, NaN, NaN, 1.59641930, 1.60302797, 1.59095324,…\n$ tmax_lag6_roll_6    <dbl> NaN, NaN, NaN, 0.32005544, 0.37268703, 0.44009239,…\n$ cases_lag7_roll_6   <dbl> NaN, NaN, NaN, NaN, 0.21498612, 0.16995856, 0.0635…\n$ prec_lag7_roll_6    <dbl> NaN, NaN, NaN, NaN, 1.59641930, 1.60302797, 1.5909…\n$ tmax_lag7_roll_6    <dbl> NaN, NaN, NaN, NaN, 0.32005544, 0.37268703, 0.4400…\n$ cases_lag8_roll_6   <dbl> NaN, NaN, NaN, NaN, NaN, 0.21498612, 0.16995856, 0…\n$ prec_lag8_roll_6    <dbl> NaN, NaN, NaN, NaN, NaN, 1.59641930, 1.60302797, 1…\n$ tmax_lag8_roll_6    <dbl> NaN, NaN, NaN, NaN, NaN, 0.32005544, 0.37268703, 0…\n$ cases_lag9_roll_6   <dbl> NaN, NaN, NaN, NaN, NaN, NaN, 0.21498612, 0.169958…\n$ prec_lag9_roll_6    <dbl> NaN, NaN, NaN, NaN, NaN, NaN, 1.5964193, 1.6030280…\n$ tmax_lag9_roll_6    <dbl> NaN, NaN, NaN, NaN, NaN, NaN, 0.32005544, 0.372687…\n$ cases_lag10_roll_6  <dbl> NaN, NaN, NaN, NaN, NaN, NaN, NaN, 0.21498612, 0.1…\n$ prec_lag10_roll_6   <dbl> NaN, NaN, NaN, NaN, NaN, NaN, NaN, 1.5964193, 1.60…\n$ tmax_lag10_roll_6   <dbl> NaN, NaN, NaN, NaN, NaN, NaN, NaN, 0.32005544, 0.3…\n$ cases_lag11_roll_6  <dbl> NaN, NaN, NaN, NaN, NaN, NaN, NaN, NaN, 0.21498612…\n$ prec_lag11_roll_6   <dbl> NaN, NaN, NaN, NaN, NaN, NaN, NaN, NaN, 1.5964193,…\n$ tmax_lag11_roll_6   <dbl> NaN, NaN, NaN, NaN, NaN, NaN, NaN, NaN, 0.32005544…\n$ cases_lag12_roll_6  <dbl> NaN, NaN, NaN, NaN, NaN, NaN, NaN, NaN, NaN, 0.214…\n$ prec_lag12_roll_6   <dbl> NaN, NaN, NaN, NaN, NaN, NaN, NaN, NaN, NaN, 1.596…\n$ tmax_lag12_roll_6   <dbl> NaN, NaN, NaN, NaN, NaN, NaN, NaN, NaN, NaN, 0.320…\n$ cases_lag1_roll_8   <dbl> 0.14744478, 0.25264553, 0.20065917, 0.20270588, 0.…\n$ prec_lag1_roll_8    <dbl> 1.4885559, 1.3800745, 1.3638303, 1.4567871, 1.4605…\n$ tmax_lag1_roll_8    <dbl> 0.537506995, 0.613684290, 0.642308486, 0.601812504…\n$ cases_lag2_roll_8   <dbl> 0.06352979, 0.14744478, 0.25264553, 0.20065917, 0.…\n$ prec_lag2_roll_8    <dbl> 1.5909532, 1.4885559, 1.3800745, 1.3638303, 1.4567…\n$ tmax_lag2_roll_8    <dbl> 0.440092393, 0.537506995, 0.613684290, 0.642308486…\n$ cases_lag3_roll_8   <dbl> 0.16995856, 0.06352979, 0.14744478, 0.25264553, 0.…\n$ prec_lag3_roll_8    <dbl> 1.6030280, 1.5909532, 1.4885559, 1.3800745, 1.3638…\n$ tmax_lag3_roll_8    <dbl> 0.372687029, 0.440092393, 0.537506995, 0.613684290…\n$ cases_lag4_roll_8   <dbl> 0.21498612, 0.16995856, 0.06352979, 0.14744478, 0.…\n$ prec_lag4_roll_8    <dbl> 1.5964193, 1.6030280, 1.5909532, 1.4885559, 1.3800…\n$ tmax_lag4_roll_8    <dbl> 0.320055443, 0.372687029, 0.440092393, 0.537506995…\n$ cases_lag5_roll_8   <dbl> NaN, 0.21498612, 0.16995856, 0.06352979, 0.1474447…\n$ prec_lag5_roll_8    <dbl> NaN, 1.5964193, 1.6030280, 1.5909532, 1.4885559, 1…\n$ tmax_lag5_roll_8    <dbl> NaN, 0.320055443, 0.372687029, 0.440092393, 0.5375…\n$ cases_lag6_roll_8   <dbl> NaN, NaN, 0.21498612, 0.16995856, 0.06352979, 0.14…\n$ prec_lag6_roll_8    <dbl> NaN, NaN, 1.5964193, 1.6030280, 1.5909532, 1.48855…\n$ tmax_lag6_roll_8    <dbl> NaN, NaN, 0.320055443, 0.372687029, 0.440092393, 0…\n$ cases_lag7_roll_8   <dbl> NaN, NaN, NaN, 0.21498612, 0.16995856, 0.06352979,…\n$ prec_lag7_roll_8    <dbl> NaN, NaN, NaN, 1.5964193, 1.6030280, 1.5909532, 1.…\n$ tmax_lag7_roll_8    <dbl> NaN, NaN, NaN, 0.320055443, 0.372687029, 0.4400923…\n$ cases_lag8_roll_8   <dbl> NaN, NaN, NaN, NaN, 0.21498612, 0.16995856, 0.0635…\n$ prec_lag8_roll_8    <dbl> NaN, NaN, NaN, NaN, 1.5964193, 1.6030280, 1.590953…\n$ tmax_lag8_roll_8    <dbl> NaN, NaN, NaN, NaN, 0.320055443, 0.372687029, 0.44…\n$ cases_lag9_roll_8   <dbl> NaN, NaN, NaN, NaN, NaN, 0.21498612, 0.16995856, 0…\n$ prec_lag9_roll_8    <dbl> NaN, NaN, NaN, NaN, NaN, 1.5964193, 1.6030280, 1.5…\n$ tmax_lag9_roll_8    <dbl> NaN, NaN, NaN, NaN, NaN, 0.320055443, 0.372687029,…\n$ cases_lag10_roll_8  <dbl> NaN, NaN, NaN, NaN, NaN, NaN, 0.21498612, 0.169958…\n$ prec_lag10_roll_8   <dbl> NaN, NaN, NaN, NaN, NaN, NaN, 1.5964193, 1.6030280…\n$ tmax_lag10_roll_8   <dbl> NaN, NaN, NaN, NaN, NaN, NaN, 0.320055443, 0.37268…\n$ cases_lag11_roll_8  <dbl> NaN, NaN, NaN, NaN, NaN, NaN, NaN, 0.21498612, 0.1…\n$ prec_lag11_roll_8   <dbl> NaN, NaN, NaN, NaN, NaN, NaN, NaN, 1.5964193, 1.60…\n$ tmax_lag11_roll_8   <dbl> NaN, NaN, NaN, NaN, NaN, NaN, NaN, 0.320055443, 0.…\n$ cases_lag12_roll_8  <dbl> NaN, NaN, NaN, NaN, NaN, NaN, NaN, NaN, 0.21498612…\n$ prec_lag12_roll_8   <dbl> NaN, NaN, NaN, NaN, NaN, NaN, NaN, NaN, 1.5964193,…\n$ tmax_lag12_roll_8   <dbl> NaN, NaN, NaN, NaN, NaN, NaN, NaN, NaN, 0.32005544…\n$ cases_lag1_roll_12  <dbl> 0.20065917, 0.20270588, 0.19298402, 0.17541645, 0.…\n$ prec_lag1_roll_12   <dbl> 1.363830312, 1.456787074, 1.460598062, 1.562709447…\n$ tmax_lag1_roll_12   <dbl> 0.6423085, 0.6018125, 0.6157619, 0.4813359, 0.4214…\n$ cases_lag2_roll_12  <dbl> 0.25264553, 0.20065917, 0.20270588, 0.19298402, 0.…\n$ prec_lag2_roll_12   <dbl> 1.380074516, 1.363830312, 1.456787074, 1.460598062…\n$ tmax_lag2_roll_12   <dbl> 0.6136843, 0.6423085, 0.6018125, 0.6157619, 0.4813…\n$ cases_lag3_roll_12  <dbl> 0.14744478, 0.25264553, 0.20065917, 0.20270588, 0.…\n$ prec_lag3_roll_12   <dbl> 1.488555873, 1.380074516, 1.363830312, 1.456787074…\n$ tmax_lag3_roll_12   <dbl> 0.5375070, 0.6136843, 0.6423085, 0.6018125, 0.6157…\n$ cases_lag4_roll_12  <dbl> 0.06352979, 0.14744478, 0.25264553, 0.20065917, 0.…\n$ prec_lag4_roll_12   <dbl> 1.590953237, 1.488555873, 1.380074516, 1.363830312…\n$ tmax_lag4_roll_12   <dbl> 0.4400924, 0.5375070, 0.6136843, 0.6423085, 0.6018…\n$ cases_lag5_roll_12  <dbl> 0.16995856, 0.06352979, 0.14744478, 0.25264553, 0.…\n$ prec_lag5_roll_12   <dbl> 1.603027966, 1.590953237, 1.488555873, 1.380074516…\n$ tmax_lag5_roll_12   <dbl> 0.3726870, 0.4400924, 0.5375070, 0.6136843, 0.6423…\n$ cases_lag6_roll_12  <dbl> 0.21498612, 0.16995856, 0.06352979, 0.14744478, 0.…\n$ prec_lag6_roll_12   <dbl> 1.596419304, 1.603027966, 1.590953237, 1.488555873…\n$ tmax_lag6_roll_12   <dbl> 0.3200554, 0.3726870, 0.4400924, 0.5375070, 0.6136…\n$ cases_lag7_roll_12  <dbl> NaN, 0.21498612, 0.16995856, 0.06352979, 0.1474447…\n$ prec_lag7_roll_12   <dbl> NaN, 1.596419304, 1.603027966, 1.590953237, 1.4885…\n$ tmax_lag7_roll_12   <dbl> NaN, 0.3200554, 0.3726870, 0.4400924, 0.5375070, 0…\n$ cases_lag8_roll_12  <dbl> NaN, NaN, 0.21498612, 0.16995856, 0.06352979, 0.14…\n$ prec_lag8_roll_12   <dbl> NaN, NaN, 1.596419304, 1.603027966, 1.590953237, 1…\n$ tmax_lag8_roll_12   <dbl> NaN, NaN, 0.3200554, 0.3726870, 0.4400924, 0.53750…\n$ cases_lag9_roll_12  <dbl> NaN, NaN, NaN, 0.21498612, 0.16995856, 0.06352979,…\n$ prec_lag9_roll_12   <dbl> NaN, NaN, NaN, 1.5964193, 1.6030280, 1.5909532, 1.…\n$ tmax_lag9_roll_12   <dbl> NaN, NaN, NaN, 0.3200554, 0.3726870, 0.4400924, 0.…\n$ cases_lag10_roll_12 <dbl> NaN, NaN, NaN, NaN, 0.21498612, 0.16995856, 0.0635…\n$ prec_lag10_roll_12  <dbl> NaN, NaN, NaN, NaN, 1.5964193, 1.6030280, 1.590953…\n$ tmax_lag10_roll_12  <dbl> NaN, NaN, NaN, NaN, 0.3200554, 0.3726870, 0.440092…\n$ cases_lag11_roll_12 <dbl> NaN, NaN, NaN, NaN, NaN, 0.21498612, 0.16995856, 0…\n$ prec_lag11_roll_12  <dbl> NaN, NaN, NaN, NaN, NaN, 1.5964193, 1.6030280, 1.5…\n$ tmax_lag11_roll_12  <dbl> NaN, NaN, NaN, NaN, NaN, 0.3200554, 0.3726870, 0.4…\n$ cases_lag12_roll_12 <dbl> NaN, NaN, NaN, NaN, NaN, NaN, 0.21498612, 0.169958…\n$ prec_lag12_roll_12  <dbl> NaN, NaN, NaN, NaN, NaN, NaN, 1.5964193, 1.6030280…\n$ tmax_lag12_roll_12  <dbl> NaN, NaN, NaN, NaN, NaN, NaN, 0.3200554, 0.3726870…\n```\n:::\n:::\n\n\n## Save result\n\n\n::: {.cell}\n\n```{.r .cell-code}\nwrite_parquet(x = tdengue, sink = \"tdengue.parquet\")\n```\n:::\n",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}