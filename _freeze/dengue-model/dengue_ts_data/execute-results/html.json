{
  "hash": "174184f6f29060d9652c270d1b5cbb08",
  "result": {
    "markdown": "---\ntitle: \"Data preparing\"\nauthor: \"Raphael Saldanha\"\ndate: last-modified\n---\n\n\n## Packages\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(tidyverse)\nlibrary(arrow)\nlibrary(brpop)\nlibrary(tidymodels)\nlibrary(timetk)\n```\n:::\n\n\n## Data\n\n### Dengue\n\n\n::: {.cell}\n\n```{.r .cell-code}\ndengue <- read_parquet(\"../dengue-data/parquet_aggregated/dengue_md.parquet\") %>%\n  group_by(mun) %>%\n  summarise_by_time(.date_var = date, .by = \"month\", freq = sum(freq, na.rm = TRUE)) %>%\n  ungroup() %>%\n  rename(cases = freq)\n```\n:::\n\n\n### Population\n\n\n::: {.cell}\n\n```{.r .cell-code}\npop <- mun_pop_totals() %>%\n  filter(year %in% seq(year(min(dengue$date)), year(max(dengue$date)))) %>%\n  mutate(mun = as.character(mun))\n```\n:::\n\n\n### Precipitation\n\n\n::: {.cell}\n\n```{.r .cell-code}\nprec <- open_dataset(sources = \"../weather-data/parquet/brdwgd/pr.parquet\") %>%\n  filter(name == \"pr_sum\") %>%\n  select(date, value) %>%\n  collect() %>%\n  filter(date >= min(dengue$date) & date <= max(dengue$date)) %>%\n  summarise_by_time(.date_var = date, .by = \"month\", value = sum(value, na.rm = TRUE)) %>%\n  rename(prec = value)\n```\n:::\n\n\n### Average maximum temperature\n\n\n::: {.cell}\n\n```{.r .cell-code}\ntmax <- open_dataset(sources = \"../weather-data/parquet/brdwgd/tmax.parquet\") %>%\n  filter(name == \"Tmax_mean\") %>%\n  select(date, value) %>%\n  collect() %>%\n  filter(date >= min(dengue$date) & date <= max(dengue$date)) %>%\n  summarise_by_time(.date_var = date, .by = \"month\", value = mean(value, na.rm = TRUE)) %>%\n  rename(tmax = value)\n```\n:::\n\n\n### Join data\n\n\n::: {.cell}\n\n```{.r .cell-code}\ntdengue <- dengue %>%\n  mutate(dengue_year = year(date)) %>%\n  inner_join(pop, by = c(\"dengue_year\" = \"year\", \"mun\")) %>%\n  select(-dengue_year) %>%\n  inner_join(prec, by = \"date\") %>%\n  inner_join(tmax, by = \"date\")\n\nrm(dengue, pop, prec, tmax)\n```\n:::\n\n\n### Cleaning and basic features\n\n\n::: {.cell}\n\n```{.r .cell-code}\ntdengue <- tdengue %>%\n  # Remove municipalilities with zero population\n  filter(pop != 0) %>%\n  # Keep only municipalities series with more than 3000 cases total\n  group_by(mun) %>%\n  mutate(total = sum(cases, na.rm = TRUE)) %>%\n  ungroup() %>%\n  filter(total >= 3000) %>%\n  select(-total) %>%\n  # Compute dengue rate per population\n  mutate(cases = cases/pop*100000) %>%\n  # Remove population\n  select(-pop) %>%\n  # Round values\nmutate(across(c(cases, prec, tmax), ~ round(.x, digits = 2)))\n```\n:::\n\n\nMunicipalities remaining at the dataset: 380\n\n### Standardize measures\n\n\n::: {.cell}\n\n```{.r .cell-code}\ntdengue <- tdengue %>%\n  group_by(mun) %>%\n  mutate(across(c(cases, prec, tmax), ~ standardize_vec(.x, silent = TRUE))) %>%\n  ungroup()\n```\n:::\n\n\n### Future frame, lag and rolling lag variables\n\n\n::: {.cell}\n\n```{.r .cell-code}\ntdengue <- tdengue %>%\n  group_by(mun) %>%\n  future_frame(.date_var = date, .length_out = \"1 month\", .bind_data = TRUE) %>%\n  tk_augment_lags(.value = c(cases, prec, tmax), .lags = 1:12) %>%\n  tk_augment_slidify(\n    .value = contains(\"_lag\"), \n    .period = c(2, 3, 4, 6, 8, 12), \n    .f = ~ mean(.x, na.rm = TRUE), \n    .partial = TRUE,\n    .align   = \"center\"\n  ) %>%\n  ungroup()\n```\n:::\n\n\n## Overview\n\n\n::: {.cell}\n\n```{.r .cell-code}\nglimpse(tdengue)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\nRows: 43,967\nColumns: 257\n$ mun                 <chr> \"110020\", \"110020\", \"110020\", \"110020\", \"110020\", …\n$ date                <date> 2011-01-01, 2011-02-01, 2011-03-01, 2011-04-01, 2…\n$ cases               <dbl> 0.1906601, 0.1016442, 0.1906601, -0.2774235, -0.43…\n$ prec                <dbl> 1.62509294, 1.39828386, 1.79369175, 0.73478644, -0…\n$ tmax                <dbl> 0.615886075, 0.646396499, -0.098057850, -0.3360391…\n$ cases_lag1          <dbl> NA, 0.1906601, 0.1016442, 0.1906601, -0.2774235, -…\n$ prec_lag1           <dbl> NA, 1.62509294, 1.39828386, 1.79369175, 0.73478644…\n$ tmax_lag1           <dbl> NA, 0.615886075, 0.646396499, -0.098057850, -0.336…\n$ cases_lag2          <dbl> NA, NA, 0.1906601, 0.1016442, 0.1906601, -0.277423…\n$ prec_lag2           <dbl> NA, NA, 1.62509294, 1.39828386, 1.79369175, 0.7347…\n$ tmax_lag2           <dbl> NA, NA, 0.615886075, 0.646396499, -0.098057850, -0…\n$ cases_lag3          <dbl> NA, NA, NA, 0.1906601, 0.1016442, 0.1906601, -0.27…\n$ prec_lag3           <dbl> NA, NA, NA, 1.62509294, 1.39828386, 1.79369175, 0.…\n$ tmax_lag3           <dbl> NA, NA, NA, 0.615886075, 0.646396499, -0.098057850…\n$ cases_lag4          <dbl> NA, NA, NA, NA, 0.1906601, 0.1016442, 0.1906601, -…\n$ prec_lag4           <dbl> NA, NA, NA, NA, 1.62509294, 1.39828386, 1.79369175…\n$ tmax_lag4           <dbl> NA, NA, NA, NA, 0.615886075, 0.646396499, -0.09805…\n$ cases_lag5          <dbl> NA, NA, NA, NA, NA, 0.1906601, 0.1016442, 0.190660…\n$ prec_lag5           <dbl> NA, NA, NA, NA, NA, 1.62509294, 1.39828386, 1.7936…\n$ tmax_lag5           <dbl> NA, NA, NA, NA, NA, 0.615886075, 0.646396499, -0.0…\n$ cases_lag6          <dbl> NA, NA, NA, NA, NA, NA, 0.1906601, 0.1016442, 0.19…\n$ prec_lag6           <dbl> NA, NA, NA, NA, NA, NA, 1.62509294, 1.39828386, 1.…\n$ tmax_lag6           <dbl> NA, NA, NA, NA, NA, NA, 0.615886075, 0.646396499, …\n$ cases_lag7          <dbl> NA, NA, NA, NA, NA, NA, NA, 0.1906601, 0.1016442, …\n$ prec_lag7           <dbl> NA, NA, NA, NA, NA, NA, NA, 1.62509294, 1.39828386…\n$ tmax_lag7           <dbl> NA, NA, NA, NA, NA, NA, NA, 0.615886075, 0.6463964…\n$ cases_lag8          <dbl> NA, NA, NA, NA, NA, NA, NA, NA, 0.1906601, 0.10164…\n$ prec_lag8           <dbl> NA, NA, NA, NA, NA, NA, NA, NA, 1.62509294, 1.3982…\n$ tmax_lag8           <dbl> NA, NA, NA, NA, NA, NA, NA, NA, 0.615886075, 0.646…\n$ cases_lag9          <dbl> NA, NA, NA, NA, NA, NA, NA, NA, NA, 0.1906601, 0.1…\n$ prec_lag9           <dbl> NA, NA, NA, NA, NA, NA, NA, NA, NA, 1.62509294, 1.…\n$ tmax_lag9           <dbl> NA, NA, NA, NA, NA, NA, NA, NA, NA, 0.615886075, 0…\n$ cases_lag10         <dbl> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, 0.1906601,…\n$ prec_lag10          <dbl> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, 1.62509294…\n$ tmax_lag10          <dbl> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, 0.61588607…\n$ cases_lag11         <dbl> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, 0.1906…\n$ prec_lag11          <dbl> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, 1.6250…\n$ tmax_lag11          <dbl> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, 0.6158…\n$ cases_lag12         <dbl> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, 0.…\n$ prec_lag12          <dbl> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, 1.…\n$ tmax_lag12          <dbl> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, 0.…\n$ cases_lag1_roll_2   <dbl> 0.19066014, 0.14615219, 0.14615219, -0.04338166, -…\n$ prec_lag1_roll_2    <dbl> 1.6250929, 1.5116884, 1.5959878, 1.2642391, 0.1843…\n$ tmax_lag1_roll_2    <dbl> 0.61588607, 0.63114129, 0.27416932, -0.21704850, -…\n$ cases_lag2_roll_2   <dbl> NaN, 0.19066014, 0.14615219, 0.14615219, -0.043381…\n$ prec_lag2_roll_2    <dbl> NaN, 1.6250929, 1.5116884, 1.5959878, 1.2642391, 0…\n$ tmax_lag2_roll_2    <dbl> NaN, 0.61588607, 0.63114129, 0.27416932, -0.217048…\n$ cases_lag3_roll_2   <dbl> NaN, NaN, 0.19066014, 0.14615219, 0.14615219, -0.0…\n$ prec_lag3_roll_2    <dbl> NaN, NaN, 1.6250929, 1.5116884, 1.5959878, 1.26423…\n$ tmax_lag3_roll_2    <dbl> NaN, NaN, 0.61588607, 0.63114129, 0.27416932, -0.2…\n$ cases_lag4_roll_2   <dbl> NaN, NaN, NaN, 0.19066014, 0.14615219, 0.14615219,…\n$ prec_lag4_roll_2    <dbl> NaN, NaN, NaN, 1.6250929, 1.5116884, 1.5959878, 1.…\n$ tmax_lag4_roll_2    <dbl> NaN, NaN, NaN, 0.61588607, 0.63114129, 0.27416932,…\n$ cases_lag5_roll_2   <dbl> NaN, NaN, NaN, NaN, 0.19066014, 0.14615219, 0.1461…\n$ prec_lag5_roll_2    <dbl> NaN, NaN, NaN, NaN, 1.6250929, 1.5116884, 1.595987…\n$ tmax_lag5_roll_2    <dbl> NaN, NaN, NaN, NaN, 0.61588607, 0.63114129, 0.2741…\n$ cases_lag6_roll_2   <dbl> NaN, NaN, NaN, NaN, NaN, 0.19066014, 0.14615219, 0…\n$ prec_lag6_roll_2    <dbl> NaN, NaN, NaN, NaN, NaN, 1.6250929, 1.5116884, 1.5…\n$ tmax_lag6_roll_2    <dbl> NaN, NaN, NaN, NaN, NaN, 0.61588607, 0.63114129, 0…\n$ cases_lag7_roll_2   <dbl> NaN, NaN, NaN, NaN, NaN, NaN, 0.19066014, 0.146152…\n$ prec_lag7_roll_2    <dbl> NaN, NaN, NaN, NaN, NaN, NaN, 1.6250929, 1.5116884…\n$ tmax_lag7_roll_2    <dbl> NaN, NaN, NaN, NaN, NaN, NaN, 0.61588607, 0.631141…\n$ cases_lag8_roll_2   <dbl> NaN, NaN, NaN, NaN, NaN, NaN, NaN, 0.19066014, 0.1…\n$ prec_lag8_roll_2    <dbl> NaN, NaN, NaN, NaN, NaN, NaN, NaN, 1.6250929, 1.51…\n$ tmax_lag8_roll_2    <dbl> NaN, NaN, NaN, NaN, NaN, NaN, NaN, 0.61588607, 0.6…\n$ cases_lag9_roll_2   <dbl> NaN, NaN, NaN, NaN, NaN, NaN, NaN, NaN, 0.19066014…\n$ prec_lag9_roll_2    <dbl> NaN, NaN, NaN, NaN, NaN, NaN, NaN, NaN, 1.6250929,…\n$ tmax_lag9_roll_2    <dbl> NaN, NaN, NaN, NaN, NaN, NaN, NaN, NaN, 0.61588607…\n$ cases_lag10_roll_2  <dbl> NaN, NaN, NaN, NaN, NaN, NaN, NaN, NaN, NaN, 0.190…\n$ prec_lag10_roll_2   <dbl> NaN, NaN, NaN, NaN, NaN, NaN, NaN, NaN, NaN, 1.625…\n$ tmax_lag10_roll_2   <dbl> NaN, NaN, NaN, NaN, NaN, NaN, NaN, NaN, NaN, 0.615…\n$ cases_lag11_roll_2  <dbl> NaN, NaN, NaN, NaN, NaN, NaN, NaN, NaN, NaN, NaN, …\n$ prec_lag11_roll_2   <dbl> NaN, NaN, NaN, NaN, NaN, NaN, NaN, NaN, NaN, NaN, …\n$ tmax_lag11_roll_2   <dbl> NaN, NaN, NaN, NaN, NaN, NaN, NaN, NaN, NaN, NaN, …\n$ cases_lag12_roll_2  <dbl> NaN, NaN, NaN, NaN, NaN, NaN, NaN, NaN, NaN, NaN, …\n$ prec_lag12_roll_2   <dbl> NaN, NaN, NaN, NaN, NaN, NaN, NaN, NaN, NaN, NaN, …\n$ tmax_lag12_roll_2   <dbl> NaN, NaN, NaN, NaN, NaN, NaN, NaN, NaN, NaN, NaN, …\n$ cases_lag1_roll_3   <dbl> 0.190660140, 0.146152191, 0.160988174, 0.004960306…\n$ prec_lag1_roll_3    <dbl> 1.625092937, 1.511688398, 1.605689515, 1.308920683…\n$ tmax_lag1_roll_3    <dbl> 0.61588607, 0.63114129, 0.38807491, 0.07076650, -0…\n$ cases_lag2_roll_3   <dbl> NaN, 0.190660140, 0.146152191, 0.160988174, 0.0049…\n$ prec_lag2_roll_3    <dbl> NaN, 1.625092937, 1.511688398, 1.605689515, 1.3089…\n$ tmax_lag2_roll_3    <dbl> NaN, 0.61588607, 0.63114129, 0.38807491, 0.0707665…\n$ cases_lag3_roll_3   <dbl> NaN, NaN, 0.190660140, 0.146152191, 0.160988174, 0…\n$ prec_lag3_roll_3    <dbl> NaN, NaN, 1.625092937, 1.511688398, 1.605689515, 1…\n$ tmax_lag3_roll_3    <dbl> NaN, NaN, 0.61588607, 0.63114129, 0.38807491, 0.07…\n$ cases_lag4_roll_3   <dbl> NaN, NaN, NaN, 0.190660140, 0.146152191, 0.1609881…\n$ prec_lag4_roll_3    <dbl> NaN, NaN, NaN, 1.625092937, 1.511688398, 1.6056895…\n$ tmax_lag4_roll_3    <dbl> NaN, NaN, NaN, 0.61588607, 0.63114129, 0.38807491,…\n$ cases_lag5_roll_3   <dbl> NaN, NaN, NaN, NaN, 0.190660140, 0.146152191, 0.16…\n$ prec_lag5_roll_3    <dbl> NaN, NaN, NaN, NaN, 1.625092937, 1.511688398, 1.60…\n$ tmax_lag5_roll_3    <dbl> NaN, NaN, NaN, NaN, 0.61588607, 0.63114129, 0.3880…\n$ cases_lag6_roll_3   <dbl> NaN, NaN, NaN, NaN, NaN, 0.190660140, 0.146152191,…\n$ prec_lag6_roll_3    <dbl> NaN, NaN, NaN, NaN, NaN, 1.625092937, 1.511688398,…\n$ tmax_lag6_roll_3    <dbl> NaN, NaN, NaN, NaN, NaN, 0.61588607, 0.63114129, 0…\n$ cases_lag7_roll_3   <dbl> NaN, NaN, NaN, NaN, NaN, NaN, 0.190660140, 0.14615…\n$ prec_lag7_roll_3    <dbl> NaN, NaN, NaN, NaN, NaN, NaN, 1.625092937, 1.51168…\n$ tmax_lag7_roll_3    <dbl> NaN, NaN, NaN, NaN, NaN, NaN, 0.61588607, 0.631141…\n$ cases_lag8_roll_3   <dbl> NaN, NaN, NaN, NaN, NaN, NaN, NaN, 0.190660140, 0.…\n$ prec_lag8_roll_3    <dbl> NaN, NaN, NaN, NaN, NaN, NaN, NaN, 1.625092937, 1.…\n$ tmax_lag8_roll_3    <dbl> NaN, NaN, NaN, NaN, NaN, NaN, NaN, 0.61588607, 0.6…\n$ cases_lag9_roll_3   <dbl> NaN, NaN, NaN, NaN, NaN, NaN, NaN, NaN, 0.19066014…\n$ prec_lag9_roll_3    <dbl> NaN, NaN, NaN, NaN, NaN, NaN, NaN, NaN, 1.62509293…\n$ tmax_lag9_roll_3    <dbl> NaN, NaN, NaN, NaN, NaN, NaN, NaN, NaN, 0.61588607…\n$ cases_lag10_roll_3  <dbl> NaN, NaN, NaN, NaN, NaN, NaN, NaN, NaN, NaN, 0.190…\n$ prec_lag10_roll_3   <dbl> NaN, NaN, NaN, NaN, NaN, NaN, NaN, NaN, NaN, 1.625…\n$ tmax_lag10_roll_3   <dbl> NaN, NaN, NaN, NaN, NaN, NaN, NaN, NaN, NaN, 0.615…\n$ cases_lag11_roll_3  <dbl> NaN, NaN, NaN, NaN, NaN, NaN, NaN, NaN, NaN, NaN, …\n$ prec_lag11_roll_3   <dbl> NaN, NaN, NaN, NaN, NaN, NaN, NaN, NaN, NaN, NaN, …\n$ tmax_lag11_roll_3   <dbl> NaN, NaN, NaN, NaN, NaN, NaN, NaN, NaN, NaN, NaN, …\n$ cases_lag12_roll_3  <dbl> NaN, NaN, NaN, NaN, NaN, NaN, NaN, NaN, NaN, NaN, …\n$ prec_lag12_roll_3   <dbl> NaN, NaN, NaN, NaN, NaN, NaN, NaN, NaN, NaN, NaN, …\n$ tmax_lag12_roll_3   <dbl> NaN, NaN, NaN, NaN, NaN, NaN, NaN, NaN, NaN, NaN, …\n$ cases_lag1_roll_4   <dbl> 0.14615219, 0.16098817, 0.05138526, -0.10489265, -…\n$ prec_lag1_roll_4    <dbl> 1.5116884, 1.6056895, 1.3879637, 0.8901764, 0.2705…\n$ tmax_lag1_roll_4    <dbl> 0.6311413, 0.3880749, 0.2070464, -0.3497688, -1.02…\n$ cases_lag2_roll_4   <dbl> 0.19066014, 0.14615219, 0.16098817, 0.05138526, -0…\n$ prec_lag2_roll_4    <dbl> 1.6250929, 1.5116884, 1.6056895, 1.3879637, 0.8901…\n$ tmax_lag2_roll_4    <dbl> 0.6158861, 0.6311413, 0.3880749, 0.2070464, -0.349…\n$ cases_lag3_roll_4   <dbl> NaN, 0.19066014, 0.14615219, 0.16098817, 0.0513852…\n$ prec_lag3_roll_4    <dbl> NaN, 1.6250929, 1.5116884, 1.6056895, 1.3879637, 0…\n$ tmax_lag3_roll_4    <dbl> NaN, 0.6158861, 0.6311413, 0.3880749, 0.2070464, -…\n$ cases_lag4_roll_4   <dbl> NaN, NaN, 0.19066014, 0.14615219, 0.16098817, 0.05…\n$ prec_lag4_roll_4    <dbl> NaN, NaN, 1.6250929, 1.5116884, 1.6056895, 1.38796…\n$ tmax_lag4_roll_4    <dbl> NaN, NaN, 0.6158861, 0.6311413, 0.3880749, 0.20704…\n$ cases_lag5_roll_4   <dbl> NaN, NaN, NaN, 0.19066014, 0.14615219, 0.16098817,…\n$ prec_lag5_roll_4    <dbl> NaN, NaN, NaN, 1.6250929, 1.5116884, 1.6056895, 1.…\n$ tmax_lag5_roll_4    <dbl> NaN, NaN, NaN, 0.6158861, 0.6311413, 0.3880749, 0.…\n$ cases_lag6_roll_4   <dbl> NaN, NaN, NaN, NaN, 0.19066014, 0.14615219, 0.1609…\n$ prec_lag6_roll_4    <dbl> NaN, NaN, NaN, NaN, 1.6250929, 1.5116884, 1.605689…\n$ tmax_lag6_roll_4    <dbl> NaN, NaN, NaN, NaN, 0.6158861, 0.6311413, 0.388074…\n$ cases_lag7_roll_4   <dbl> NaN, NaN, NaN, NaN, NaN, 0.19066014, 0.14615219, 0…\n$ prec_lag7_roll_4    <dbl> NaN, NaN, NaN, NaN, NaN, 1.6250929, 1.5116884, 1.6…\n$ tmax_lag7_roll_4    <dbl> NaN, NaN, NaN, NaN, NaN, 0.6158861, 0.6311413, 0.3…\n$ cases_lag8_roll_4   <dbl> NaN, NaN, NaN, NaN, NaN, NaN, 0.19066014, 0.146152…\n$ prec_lag8_roll_4    <dbl> NaN, NaN, NaN, NaN, NaN, NaN, 1.6250929, 1.5116884…\n$ tmax_lag8_roll_4    <dbl> NaN, NaN, NaN, NaN, NaN, NaN, 0.6158861, 0.6311413…\n$ cases_lag9_roll_4   <dbl> NaN, NaN, NaN, NaN, NaN, NaN, NaN, 0.19066014, 0.1…\n$ prec_lag9_roll_4    <dbl> NaN, NaN, NaN, NaN, NaN, NaN, NaN, 1.6250929, 1.51…\n$ tmax_lag9_roll_4    <dbl> NaN, NaN, NaN, NaN, NaN, NaN, NaN, 0.6158861, 0.63…\n$ cases_lag10_roll_4  <dbl> NaN, NaN, NaN, NaN, NaN, NaN, NaN, NaN, 0.19066014…\n$ prec_lag10_roll_4   <dbl> NaN, NaN, NaN, NaN, NaN, NaN, NaN, NaN, 1.6250929,…\n$ tmax_lag10_roll_4   <dbl> NaN, NaN, NaN, NaN, NaN, NaN, NaN, NaN, 0.6158861,…\n$ cases_lag11_roll_4  <dbl> NaN, NaN, NaN, NaN, NaN, NaN, NaN, NaN, NaN, 0.190…\n$ prec_lag11_roll_4   <dbl> NaN, NaN, NaN, NaN, NaN, NaN, NaN, NaN, NaN, 1.625…\n$ tmax_lag11_roll_4   <dbl> NaN, NaN, NaN, NaN, NaN, NaN, NaN, NaN, NaN, 0.615…\n$ cases_lag12_roll_4  <dbl> NaN, NaN, NaN, NaN, NaN, NaN, NaN, NaN, NaN, NaN, …\n$ prec_lag12_roll_4   <dbl> NaN, NaN, NaN, NaN, NaN, NaN, NaN, NaN, NaN, NaN, …\n$ tmax_lag12_roll_4   <dbl> NaN, NaN, NaN, NaN, NaN, NaN, NaN, NaN, NaN, NaN, …\n$ cases_lag1_roll_6   <dbl> 0.16098817, 0.05138526, -0.04578209, -0.12156229, …\n$ prec_lag1_roll_6    <dbl> 1.6056895, 1.3879637, 1.0371597, 0.6842654, 0.2284…\n$ tmax_lag1_roll_6    <dbl> 0.38807491, 0.20704639, -0.15663786, -0.47028502, …\n$ cases_lag2_roll_6   <dbl> 0.14615219, 0.16098817, 0.05138526, -0.04578209, -…\n$ prec_lag2_roll_6    <dbl> 1.5116884, 1.6056895, 1.3879637, 1.0371597, 0.6842…\n$ tmax_lag2_roll_6    <dbl> 0.63114129, 0.38807491, 0.20704639, -0.15663786, -…\n$ cases_lag3_roll_6   <dbl> 0.19066014, 0.14615219, 0.16098817, 0.05138526, -0…\n$ prec_lag3_roll_6    <dbl> 1.6250929, 1.5116884, 1.6056895, 1.3879637, 1.0371…\n$ tmax_lag3_roll_6    <dbl> 0.61588607, 0.63114129, 0.38807491, 0.20704639, -0…\n$ cases_lag4_roll_6   <dbl> NaN, 0.19066014, 0.14615219, 0.16098817, 0.0513852…\n$ prec_lag4_roll_6    <dbl> NaN, 1.6250929, 1.5116884, 1.6056895, 1.3879637, 1…\n$ tmax_lag4_roll_6    <dbl> NaN, 0.61588607, 0.63114129, 0.38807491, 0.2070463…\n$ cases_lag5_roll_6   <dbl> NaN, NaN, 0.19066014, 0.14615219, 0.16098817, 0.05…\n$ prec_lag5_roll_6    <dbl> NaN, NaN, 1.6250929, 1.5116884, 1.6056895, 1.38796…\n$ tmax_lag5_roll_6    <dbl> NaN, NaN, 0.61588607, 0.63114129, 0.38807491, 0.20…\n$ cases_lag6_roll_6   <dbl> NaN, NaN, NaN, 0.19066014, 0.14615219, 0.16098817,…\n$ prec_lag6_roll_6    <dbl> NaN, NaN, NaN, 1.6250929, 1.5116884, 1.6056895, 1.…\n$ tmax_lag6_roll_6    <dbl> NaN, NaN, NaN, 0.61588607, 0.63114129, 0.38807491,…\n$ cases_lag7_roll_6   <dbl> NaN, NaN, NaN, NaN, 0.19066014, 0.14615219, 0.1609…\n$ prec_lag7_roll_6    <dbl> NaN, NaN, NaN, NaN, 1.6250929, 1.5116884, 1.605689…\n$ tmax_lag7_roll_6    <dbl> NaN, NaN, NaN, NaN, 0.61588607, 0.63114129, 0.3880…\n$ cases_lag8_roll_6   <dbl> NaN, NaN, NaN, NaN, NaN, 0.19066014, 0.14615219, 0…\n$ prec_lag8_roll_6    <dbl> NaN, NaN, NaN, NaN, NaN, 1.6250929, 1.5116884, 1.6…\n$ tmax_lag8_roll_6    <dbl> NaN, NaN, NaN, NaN, NaN, 0.61588607, 0.63114129, 0…\n$ cases_lag9_roll_6   <dbl> NaN, NaN, NaN, NaN, NaN, NaN, 0.19066014, 0.146152…\n$ prec_lag9_roll_6    <dbl> NaN, NaN, NaN, NaN, NaN, NaN, 1.6250929, 1.5116884…\n$ tmax_lag9_roll_6    <dbl> NaN, NaN, NaN, NaN, NaN, NaN, 0.61588607, 0.631141…\n$ cases_lag10_roll_6  <dbl> NaN, NaN, NaN, NaN, NaN, NaN, NaN, 0.19066014, 0.1…\n$ prec_lag10_roll_6   <dbl> NaN, NaN, NaN, NaN, NaN, NaN, NaN, 1.6250929, 1.51…\n$ tmax_lag10_roll_6   <dbl> NaN, NaN, NaN, NaN, NaN, NaN, NaN, 0.61588607, 0.6…\n$ cases_lag11_roll_6  <dbl> NaN, NaN, NaN, NaN, NaN, NaN, NaN, NaN, 0.19066014…\n$ prec_lag11_roll_6   <dbl> NaN, NaN, NaN, NaN, NaN, NaN, NaN, NaN, 1.6250929,…\n$ tmax_lag11_roll_6   <dbl> NaN, NaN, NaN, NaN, NaN, NaN, NaN, NaN, 0.61588607…\n$ cases_lag12_roll_6  <dbl> NaN, NaN, NaN, NaN, NaN, NaN, NaN, NaN, NaN, 0.190…\n$ prec_lag12_roll_6   <dbl> NaN, NaN, NaN, NaN, NaN, NaN, NaN, NaN, NaN, 1.625…\n$ tmax_lag12_roll_6   <dbl> NaN, NaN, NaN, NaN, NaN, NaN, NaN, NaN, NaN, 0.615…\n$ cases_lag1_roll_8   <dbl> 0.05138526, -0.04578209, -0.12156229, -0.17254759,…\n$ prec_lag1_roll_8    <dbl> 1.38796375, 1.03715968, 0.68426540, 0.42801174, 0.…\n$ tmax_lag1_roll_8    <dbl> 0.207046391, -0.156637864, -0.470285024, -0.645502…\n$ cases_lag2_roll_8   <dbl> 0.16098817, 0.05138526, -0.04578209, -0.12156229, …\n$ prec_lag2_roll_8    <dbl> 1.60568952, 1.38796375, 1.03715968, 0.68426540, 0.…\n$ tmax_lag2_roll_8    <dbl> 0.388074908, 0.207046391, -0.156637864, -0.4702850…\n$ cases_lag3_roll_8   <dbl> 0.14615219, 0.16098817, 0.05138526, -0.04578209, -…\n$ prec_lag3_roll_8    <dbl> 1.51168840, 1.60568952, 1.38796375, 1.03715968, 0.…\n$ tmax_lag3_roll_8    <dbl> 0.631141287, 0.388074908, 0.207046391, -0.15663786…\n$ cases_lag4_roll_8   <dbl> 0.19066014, 0.14615219, 0.16098817, 0.05138526, -0…\n$ prec_lag4_roll_8    <dbl> 1.62509294, 1.51168840, 1.60568952, 1.38796375, 1.…\n$ tmax_lag4_roll_8    <dbl> 0.615886075, 0.631141287, 0.388074908, 0.207046391…\n$ cases_lag5_roll_8   <dbl> NaN, 0.19066014, 0.14615219, 0.16098817, 0.0513852…\n$ prec_lag5_roll_8    <dbl> NaN, 1.62509294, 1.51168840, 1.60568952, 1.3879637…\n$ tmax_lag5_roll_8    <dbl> NaN, 0.615886075, 0.631141287, 0.388074908, 0.2070…\n$ cases_lag6_roll_8   <dbl> NaN, NaN, 0.19066014, 0.14615219, 0.16098817, 0.05…\n$ prec_lag6_roll_8    <dbl> NaN, NaN, 1.62509294, 1.51168840, 1.60568952, 1.38…\n$ tmax_lag6_roll_8    <dbl> NaN, NaN, 0.615886075, 0.631141287, 0.388074908, 0…\n$ cases_lag7_roll_8   <dbl> NaN, NaN, NaN, 0.19066014, 0.14615219, 0.16098817,…\n$ prec_lag7_roll_8    <dbl> NaN, NaN, NaN, 1.62509294, 1.51168840, 1.60568952,…\n$ tmax_lag7_roll_8    <dbl> NaN, NaN, NaN, 0.615886075, 0.631141287, 0.3880749…\n$ cases_lag8_roll_8   <dbl> NaN, NaN, NaN, NaN, 0.19066014, 0.14615219, 0.1609…\n$ prec_lag8_roll_8    <dbl> NaN, NaN, NaN, NaN, 1.62509294, 1.51168840, 1.6056…\n$ tmax_lag8_roll_8    <dbl> NaN, NaN, NaN, NaN, 0.615886075, 0.631141287, 0.38…\n$ cases_lag9_roll_8   <dbl> NaN, NaN, NaN, NaN, NaN, 0.19066014, 0.14615219, 0…\n$ prec_lag9_roll_8    <dbl> NaN, NaN, NaN, NaN, NaN, 1.62509294, 1.51168840, 1…\n$ tmax_lag9_roll_8    <dbl> NaN, NaN, NaN, NaN, NaN, 0.615886075, 0.631141287,…\n$ cases_lag10_roll_8  <dbl> NaN, NaN, NaN, NaN, NaN, NaN, 0.19066014, 0.146152…\n$ prec_lag10_roll_8   <dbl> NaN, NaN, NaN, NaN, NaN, NaN, 1.62509294, 1.511688…\n$ tmax_lag10_roll_8   <dbl> NaN, NaN, NaN, NaN, NaN, NaN, 0.615886075, 0.63114…\n$ cases_lag11_roll_8  <dbl> NaN, NaN, NaN, NaN, NaN, NaN, NaN, 0.19066014, 0.1…\n$ prec_lag11_roll_8   <dbl> NaN, NaN, NaN, NaN, NaN, NaN, NaN, 1.62509294, 1.5…\n$ tmax_lag11_roll_8   <dbl> NaN, NaN, NaN, NaN, NaN, NaN, NaN, 0.615886075, 0.…\n$ cases_lag12_roll_8  <dbl> NaN, NaN, NaN, NaN, NaN, NaN, NaN, NaN, 0.19066014…\n$ prec_lag12_roll_8   <dbl> NaN, NaN, NaN, NaN, NaN, NaN, NaN, NaN, 1.62509294…\n$ tmax_lag12_roll_8   <dbl> NaN, NaN, NaN, NaN, NaN, NaN, NaN, NaN, 0.61588607…\n$ cases_lag1_roll_12  <dbl> -0.1215623, -0.1725476, -0.2052856, -0.2307485, -0…\n$ prec_lag1_roll_12   <dbl> 0.68426540, 0.42801174, 0.21514712, 0.03966718, 0.…\n$ tmax_lag1_roll_12   <dbl> -0.470285024, -0.645502032, -0.647245484, -0.56859…\n$ cases_lag2_roll_12  <dbl> -0.04578209, -0.12156229, -0.17254759, -0.20528558…\n$ prec_lag2_roll_12   <dbl> 1.03715968, 0.68426540, 0.42801174, 0.21514712, 0.…\n$ tmax_lag2_roll_12   <dbl> -0.156637864, -0.470285024, -0.645502032, -0.64724…\n$ cases_lag3_roll_12  <dbl> 0.05138526, -0.04578209, -0.12156229, -0.17254759,…\n$ prec_lag3_roll_12   <dbl> 1.38796375, 1.03715968, 0.68426540, 0.42801174, 0.…\n$ tmax_lag3_roll_12   <dbl> 0.207046391, -0.156637864, -0.470285024, -0.645502…\n$ cases_lag4_roll_12  <dbl> 0.16098817, 0.05138526, -0.04578209, -0.12156229, …\n$ prec_lag4_roll_12   <dbl> 1.60568952, 1.38796375, 1.03715968, 0.68426540, 0.…\n$ tmax_lag4_roll_12   <dbl> 0.388074908, 0.207046391, -0.156637864, -0.4702850…\n$ cases_lag5_roll_12  <dbl> 0.14615219, 0.16098817, 0.05138526, -0.04578209, -…\n$ prec_lag5_roll_12   <dbl> 1.51168840, 1.60568952, 1.38796375, 1.03715968, 0.…\n$ tmax_lag5_roll_12   <dbl> 0.631141287, 0.388074908, 0.207046391, -0.15663786…\n$ cases_lag6_roll_12  <dbl> 0.19066014, 0.14615219, 0.16098817, 0.05138526, -0…\n$ prec_lag6_roll_12   <dbl> 1.62509294, 1.51168840, 1.60568952, 1.38796375, 1.…\n$ tmax_lag6_roll_12   <dbl> 0.615886075, 0.631141287, 0.388074908, 0.207046391…\n$ cases_lag7_roll_12  <dbl> NaN, 0.19066014, 0.14615219, 0.16098817, 0.0513852…\n$ prec_lag7_roll_12   <dbl> NaN, 1.62509294, 1.51168840, 1.60568952, 1.3879637…\n$ tmax_lag7_roll_12   <dbl> NaN, 0.615886075, 0.631141287, 0.388074908, 0.2070…\n$ cases_lag8_roll_12  <dbl> NaN, NaN, 0.19066014, 0.14615219, 0.16098817, 0.05…\n$ prec_lag8_roll_12   <dbl> NaN, NaN, 1.62509294, 1.51168840, 1.60568952, 1.38…\n$ tmax_lag8_roll_12   <dbl> NaN, NaN, 0.615886075, 0.631141287, 0.388074908, 0…\n$ cases_lag9_roll_12  <dbl> NaN, NaN, NaN, 0.19066014, 0.14615219, 0.16098817,…\n$ prec_lag9_roll_12   <dbl> NaN, NaN, NaN, 1.62509294, 1.51168840, 1.60568952,…\n$ tmax_lag9_roll_12   <dbl> NaN, NaN, NaN, 0.615886075, 0.631141287, 0.3880749…\n$ cases_lag10_roll_12 <dbl> NaN, NaN, NaN, NaN, 0.19066014, 0.14615219, 0.1609…\n$ prec_lag10_roll_12  <dbl> NaN, NaN, NaN, NaN, 1.62509294, 1.51168840, 1.6056…\n$ tmax_lag10_roll_12  <dbl> NaN, NaN, NaN, NaN, 0.61588607, 0.63114129, 0.3880…\n$ cases_lag11_roll_12 <dbl> NaN, NaN, NaN, NaN, NaN, 0.19066014, 0.14615219, 0…\n$ prec_lag11_roll_12  <dbl> NaN, NaN, NaN, NaN, NaN, 1.62509294, 1.51168840, 1…\n$ tmax_lag11_roll_12  <dbl> NaN, NaN, NaN, NaN, NaN, 0.6158861, 0.6311413, 0.3…\n$ cases_lag12_roll_12 <dbl> NaN, NaN, NaN, NaN, NaN, NaN, 0.19066014, 0.146152…\n$ prec_lag12_roll_12  <dbl> NaN, NaN, NaN, NaN, NaN, NaN, 1.62509294, 1.511688…\n$ tmax_lag12_roll_12  <dbl> NaN, NaN, NaN, NaN, NaN, NaN, 0.6158861, 0.6311413…\n```\n:::\n:::\n\n\n## Save result\n\n\n::: {.cell}\n\n```{.r .cell-code}\nwrite_parquet(x = tdengue, sink = \"tdengue.parquet\")\n```\n:::\n",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}