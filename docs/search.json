[
  {
    "objectID": "index.html",
    "href": "index.html",
    "title": "Building and Selecting Specialized AI Models for Predicting Dengue Disease",
    "section": "",
    "text": "This website presents working in progress research on dengue and machine learning, as part of my Postdoctoral researcher position at Inria (Montpellier, France) and LNCC (Petrópolis, Brazil)."
  },
  {
    "objectID": "dengue_model.html",
    "href": "dengue_model.html",
    "title": "Overview",
    "section": "",
    "text": "In this section there are notebooks for dengue modelling.\n\n\n\n Back to top"
  },
  {
    "objectID": "dengue-model/dengue_weather_lag_class.html",
    "href": "dengue-model/dengue_weather_lag_class.html",
    "title": "Classification task",
    "section": "",
    "text": "This notebook models the relationship between dengue cases and weather variables using a classification of dengue cases as outbreak level (anomaly) or base level."
  },
  {
    "objectID": "dengue-model/dengue_weather_lag_class.html#packages",
    "href": "dengue-model/dengue_weather_lag_class.html#packages",
    "title": "Classification task",
    "section": "Packages",
    "text": "Packages\n\nlibrary(tidyverse)\nlibrary(tidymodels)\nlibrary(arrow)\nlibrary(timetk)\nlibrary(rpart.plot)\nlibrary(vip)"
  },
  {
    "objectID": "dengue-model/dengue_weather_lag_class.html#dengue-data",
    "href": "dengue-model/dengue_weather_lag_class.html#dengue-data",
    "title": "Classification task",
    "section": "Dengue data",
    "text": "Dengue data\n\nSubset and aggregate\nRio de Janeiro, RJ, aggregated by month.\n\ndengue_rj &lt;- open_dataset(\"../dengue-data/parquet_aggregated/dengue_md.parquet\") %&gt;%\n  filter(mun == 330455) %&gt;%\n  collect() %&gt;%\n  summarise_by_time(.date_var = date, .by = \"month\", freq = sum(freq, na.rm = TRUE))\n\n\nplot_time_series(.data = dengue_rj, .date_var = date, .value = freq, .smooth = FALSE, .title = \"Dengue, absolute number of cases\")"
  },
  {
    "objectID": "dengue-model/dengue_weather_lag_class.html#classify",
    "href": "dengue-model/dengue_weather_lag_class.html#classify",
    "title": "Classification task",
    "section": "Classify",
    "text": "Classify\n\nplot_anomaly_diagnostics(.data = dengue_rj, .date_var = date, .value = freq, .alpha = 0.10, .max_anomalies = 1, .legend_show = FALSE)\n\nfrequency = 12 observations per 1 year\n\n\ntrend = 60 observations per 5 years\n\n\n\n\n\n\n\ndengue_rj_anom &lt;- tk_anomaly_diagnostics(.data = dengue_rj, .date_var = date, .value = freq, .alpha = 0.10, .max_anomalies = 1) %&gt;%\n  select(date, anomaly) %&gt;%\n  mutate(anomaly = as.factor(anomaly))\n\nfrequency = 12 observations per 1 year\n\n\ntrend = 60 observations per 5 years\n\n\n\ndengue_rj &lt;- inner_join(dengue_rj, dengue_rj_anom) \n\nJoining with `by = join_by(date)`\n\n\n\nprop.table(table(dengue_rj$anomaly))\n\n\n       No       Yes \n0.8257576 0.1742424"
  },
  {
    "objectID": "dengue-model/dengue_weather_lag_class.html#weather-data",
    "href": "dengue-model/dengue_weather_lag_class.html#weather-data",
    "title": "Classification task",
    "section": "Weather data",
    "text": "Weather data\n\ntmax &lt;- open_dataset(sources = \"../weather-data/parquet/brdwgd/tmax.parquet\") %&gt;%\n  filter(code_muni == 3304557) %&gt;%\n  filter(name == \"Tmax_mean\") %&gt;%\n  select(date, value) %&gt;%\n  collect() %&gt;%\n  filter(date &gt;= min(dengue_rj$date) & date &lt;= max(dengue_rj$date)) %&gt;%\n  summarise_by_time(.date_var = date, .by = \"month\", value = mean(value, na.rm = TRUE)) %&gt;%\n  rename(tmax = value)\n\nprec &lt;- open_dataset(sources = \"../weather-data/parquet/brdwgd/pr.parquet\") %&gt;%\n  filter(code_muni == 3304557) %&gt;%\n  filter(name == \"pr_sum\") %&gt;%\n  select(date, value) %&gt;%\n  collect() %&gt;%\n  filter(date &gt;= min(dengue_rj$date) & date &lt;= max(dengue_rj$date)) %&gt;%\n  summarise_by_time(.date_var = date, .by = \"month\", value = sum(value, na.rm = TRUE)) %&gt;%\n  rename(prec = value)\n\nprec_avg &lt;- open_dataset(sources = \"../weather-data/parquet/brdwgd/pr.parquet\") %&gt;%\n  filter(code_muni == 3304557) %&gt;%\n  filter(name == \"pr_mean\") %&gt;%\n  select(date, value) %&gt;%\n  collect() %&gt;%\n  filter(date &gt;= min(dengue_rj$date) & date &lt;= max(dengue_rj$date)) %&gt;%\n  summarise_by_time(.date_var = date, .by = \"month\", value = mean(value, na.rm = TRUE)) %&gt;%\n  rename(prec_avg = value)\n\nrh &lt;- open_dataset(sources = \"../weather-data/parquet/brdwgd/rh.parquet\") %&gt;%\n  filter(code_muni == 3304557) %&gt;%\n  filter(name == \"RH_mean\") %&gt;%\n  select(date, value) %&gt;%\n  collect() %&gt;%\n  filter(date &gt;= min(dengue_rj$date) & date &lt;= max(dengue_rj$date)) %&gt;%\n  summarise_by_time(.date_var = date, .by = \"month\", value = mean(value, na.rm = TRUE)) %&gt;%\n  rename(rh = value)\n\nwind &lt;- open_dataset(sources = \"../weather-data/parquet/brdwgd/u2.parquet\") %&gt;%\n  filter(code_muni == 3304557) %&gt;%\n  filter(name == \"u2_mean\") %&gt;%\n  select(date, value) %&gt;%\n  collect() %&gt;%\n  filter(date &gt;= min(dengue_rj$date) & date &lt;= max(dengue_rj$date)) %&gt;%\n  summarise_by_time(.date_var = date, .by = \"month\", value = mean(value, na.rm = TRUE)) %&gt;%\n  rename(wind = value)\n\n\nplot_time_series(.data = tmax, .date_var = date, .value = tmax, .smooth = FALSE, .title = \"Max temp, average\")\n\n\n\n\n\n\nplot_time_series(.data = prec, .date_var = date, .value = prec, .smooth = FALSE, .title = \"Precipitation, sum\")\n\n\n\n\n\n\nplot_time_series(.data = prec_avg, .date_var = date, .value = prec_avg, .smooth = FALSE, .title = \"Precipitation, average\")\n\n\n\n\n\n\nplot_time_series(.data = rh, .date_var = date, .value = rh, .smooth = FALSE, .title = \"Relative humidity, average\")\n\n\n\n\n\n\nplot_time_series(.data = wind, .date_var = date, .value = wind, .smooth = FALSE, .title = \"Wind, average\")"
  },
  {
    "objectID": "dengue-model/dengue_weather_lag_class.html#join-data",
    "href": "dengue-model/dengue_weather_lag_class.html#join-data",
    "title": "Classification task",
    "section": "Join data",
    "text": "Join data\n\nres &lt;- inner_join(x = dengue_rj, y = tmax, by = \"date\") %&gt;%\n  inner_join(prec, by = \"date\") %&gt;%\n  inner_join(prec_avg, by = \"date\") %&gt;%\n  inner_join(rh, by = \"date\") %&gt;%\n  inner_join(wind, by = \"date\") %&gt;%\n  select(date, anomaly, tmax, prec, rh, wind)"
  },
  {
    "objectID": "dengue-model/dengue_weather_lag_class.html#decision-tree",
    "href": "dengue-model/dengue_weather_lag_class.html#decision-tree",
    "title": "Classification task",
    "section": "Decision tree",
    "text": "Decision tree\n\nPrepare data\n\nRemove date\nLag variables: 12 months\n\n\nres_prep &lt;- res %&gt;%\n  select(-date) %&gt;%\n  tk_augment_lags(.value = c(tmax, prec, rh, wind), .lags = 1:12)\n\n\n\nParameters\n\ntree_spec &lt;- decision_tree() %&gt;%\n  set_engine(\"rpart\") %&gt;%\n  set_mode(\"classification\")"
  },
  {
    "objectID": "dengue-model/dengue_weather_lag_class.html#fit-model",
    "href": "dengue-model/dengue_weather_lag_class.html#fit-model",
    "title": "Classification task",
    "section": "Fit model",
    "text": "Fit model\n\nfit1 &lt;- tree_spec %&gt;%\n  fit(anomaly ~ ., data = res_prep, model = TRUE)\n\n\nfit1 %&gt;% extract_fit_engine() %&gt;%\n  rpart.plot(roundint = FALSE)\n\n\n\n\n\naugment(fit1, new_data = res_prep) %&gt;%\n    conf_mat(truth = anomaly, estimate = .pred_class)\n\n          Truth\nPrediction No Yes\n       No  86   7\n       Yes  6  16\n\n\n\naugment(fit1, new_data = res_prep) %&gt;%\n    accuracy(truth = anomaly, estimate = .pred_class)\n\n# A tibble: 1 × 3\n  .metric  .estimator .estimate\n  &lt;chr&gt;    &lt;chr&gt;          &lt;dbl&gt;\n1 accuracy binary         0.887\n\n\n\nfit1 %&gt;% \n  extract_fit_engine() %&gt;% \n  vip()"
  },
  {
    "objectID": "dengue-model/dengue_weather_lag_class.html#session-info",
    "href": "dengue-model/dengue_weather_lag_class.html#session-info",
    "title": "Classification task",
    "section": "Session info",
    "text": "Session info\n\nsessionInfo()\n\nR version 4.1.2 (2021-11-01)\nPlatform: x86_64-pc-linux-gnu (64-bit)\nRunning under: Ubuntu 22.04.2 LTS\n\nMatrix products: default\nBLAS:   /usr/lib/x86_64-linux-gnu/blas/libblas.so.3.10.0\nLAPACK: /usr/lib/x86_64-linux-gnu/lapack/liblapack.so.3.10.0\n\nlocale:\n [1] LC_CTYPE=pt_BR.UTF-8       LC_NUMERIC=C              \n [3] LC_TIME=en_US.UTF-8        LC_COLLATE=en_US.UTF-8    \n [5] LC_MONETARY=en_US.UTF-8    LC_MESSAGES=en_US.UTF-8   \n [7] LC_PAPER=en_US.UTF-8       LC_NAME=C                 \n [9] LC_ADDRESS=C               LC_TELEPHONE=C            \n[11] LC_MEASUREMENT=en_US.UTF-8 LC_IDENTIFICATION=C       \n\nattached base packages:\n[1] stats     graphics  grDevices utils     datasets  methods   base     \n\nother attached packages:\n [1] vip_0.3.2          rpart.plot_3.1.1   rpart_4.1.16       timetk_2.8.3      \n [5] arrow_12.0.1       yardstick_1.2.0    workflowsets_1.0.1 workflows_1.1.3   \n [9] tune_1.1.1         rsample_1.1.1      recipes_1.0.6      parsnip_1.1.0     \n[13] modeldata_1.1.0    infer_1.0.4        dials_1.2.0        scales_1.2.1      \n[17] broom_1.0.5        tidymodels_1.1.0   lubridate_1.9.2    forcats_1.0.0     \n[21] stringr_1.5.0      dplyr_1.1.2        purrr_1.0.1        readr_2.1.4       \n[25] tidyr_1.3.0        tibble_3.2.1       ggplot2_3.4.2      tidyverse_2.0.0   \n\nloaded via a namespace (and not attached):\n [1] xts_0.13.1          bit64_4.0.5         httr_1.4.6         \n [4] DiceDesign_1.9      tools_4.1.2         backports_1.4.1    \n [7] utf8_1.2.3          R6_2.5.1            lazyeval_0.2.2     \n[10] colorspace_2.1-0    nnet_7.3-17         withr_2.5.0        \n[13] gridExtra_2.3       tidyselect_1.2.0    bit_4.0.5          \n[16] compiler_4.1.2      cli_3.6.1           plotly_4.10.2      \n[19] labeling_0.4.2      digest_0.6.32       rmarkdown_2.23     \n[22] pkgconfig_2.0.3     htmltools_0.5.5     parallelly_1.36.0  \n[25] lhs_1.1.6           fastmap_1.1.1       htmlwidgets_1.6.2  \n[28] rlang_1.1.1         rstudioapi_0.14     farver_2.1.1       \n[31] generics_0.1.3      zoo_1.8-12          jsonlite_1.8.7     \n[34] crosstalk_1.2.0     magrittr_2.0.3      Matrix_1.5-4.1     \n[37] Rcpp_1.0.10         munsell_0.5.0       fansi_1.0.4        \n[40] GPfit_1.0-8         lifecycle_1.0.3     furrr_0.3.1        \n[43] stringi_1.7.12      yaml_2.3.7          MASS_7.3-55        \n[46] grid_4.1.2          parallel_4.1.2      listenv_0.9.0      \n[49] lattice_0.20-45     splines_4.1.2       hms_1.1.3          \n[52] knitr_1.43          pillar_1.9.0        future.apply_1.11.0\n[55] codetools_0.2-18    glue_1.6.2          evaluate_0.21      \n[58] data.table_1.14.8   vctrs_0.6.3         tzdb_0.4.0         \n[61] foreach_1.5.2       gtable_0.3.3        future_1.33.0      \n[64] assertthat_0.2.1    xfun_0.39           gower_1.0.1        \n[67] prodlim_2023.03.31  viridisLite_0.4.2   class_7.3-20       \n[70] survival_3.2-13     timeDate_4022.108   iterators_1.0.14   \n[73] hardhat_1.3.0       lava_1.7.2.1        timechange_0.2.0   \n[76] globals_0.16.2      ellipsis_0.3.2      ipred_0.9-14"
  },
  {
    "objectID": "dengue-model/dengue_classification_symptoms_conditions_multi.html",
    "href": "dengue-model/dengue_classification_symptoms_conditions_multi.html",
    "title": "Dengue case classification",
    "section": "",
    "text": "The objective of this notebook is to predict a dengue suspected case based on its symptoms, clinical conditions and other patient related variables.\nThis trained model may be used to reclassify suspected dengue cases with inconclusive diagnosis."
  },
  {
    "objectID": "dengue-model/dengue_classification_symptoms_conditions_multi.html#packages",
    "href": "dengue-model/dengue_classification_symptoms_conditions_multi.html#packages",
    "title": "Dengue case classification",
    "section": "Packages",
    "text": "Packages\n\nlibrary(tidyverse)\nlibrary(arrow)\nlibrary(knitr)\nlibrary(lubridate)\nlibrary(tidymodels)\nlibrary(finetune)\nlibrary(bonsai)\nlibrary(tictoc)\nlibrary(vip)"
  },
  {
    "objectID": "dengue-model/dengue_classification_symptoms_conditions_multi.html#data",
    "href": "dengue-model/dengue_classification_symptoms_conditions_multi.html#data",
    "title": "Dengue case classification",
    "section": "Data",
    "text": "Data\n\nData prior to 2016 does not have patient symptoms and clinical conditions.\nCases classified as inconclusive are discarded for model training.\n\n\n# Data sources\nfiles_list &lt;- c(\n  \"../dengue-data/parquets/dengue_2016.parquet\",\n  \"../dengue-data/parquets/dengue_2017.parquet\",\n  \"../dengue-data/parquets/dengue_2018.parquet\",\n  \"../dengue-data/parquets/dengue_2019.parquet\",\n  \"../dengue-data/parquets/dengue_2020.parquet\",\n  \"../dengue-data/parquets/dengue_2021.parquet\"\n)\n\n# Independent variables\nx_vars &lt;- c(\"FEBRE\", \"MIALGIA\", \"CEFALEIA\", \n            \"EXANTEMA\", \"VOMITO\", \"NAUSEA\", \n            \"DOR_COSTAS\", \"CONJUNTVIT\", \n            \"ARTRITE\", \"ARTRALGIA\", \"PETEQUIA_N\", \n            \"LEUCOPENIA\", \"LACO\", \"DOR_RETRO\", \n            \"DIABETES\", \"HEMATOLOG\", \"HEPATOPAT\", \n            \"HEPATOPAT\", \"RENAL\", \"HIPERTENSA\",\n            \"ACIDO_PEPT\", \"AUTO_IMUNE\")\n\n# Prepare data\ndengue &lt;- arrow::open_dataset(sources = files_list) %&gt;%\n  # Select variables\n  select(all_of(c(\"CLASSI_FIN\", \"COMUNINF\", \"IDADEanos\", \"DT_SIN_PRI\", x_vars))) %&gt;%\n  # Filter out \"Inconclusivo\" cases\n  filter(CLASSI_FIN != \"Inconclusivo\") %&gt;%\n  # Collect data from parquet files\n  collect() %&gt;%\n  # Prepare variables\n  mutate(CLASSI_FIN = case_when(\n    CLASSI_FIN != \"Descartado\" ~ TRUE,\n    .default = FALSE\n  )) %&gt;%\n  mutate(CLASSI_FIN = as.factor(CLASSI_FIN)) %&gt;%\n  mutate(DT_SIN_PRI = as_date(DT_SIN_PRI)) %&gt;%\n  mutate(COMUNINF = as.factor(COMUNINF)) %&gt;%\n  mutate_at(.vars = x_vars, .funs = ~ . == \"Sim\") \n\n\n# Smaller dataset for tests\ndengue &lt;- sample_n(dengue, 500000)"
  },
  {
    "objectID": "dengue-model/dengue_classification_symptoms_conditions_multi.html#modeling",
    "href": "dengue-model/dengue_classification_symptoms_conditions_multi.html#modeling",
    "title": "Dengue case classification",
    "section": "Modeling",
    "text": "Modeling\n\nTrain and test dataset split\n\nProportion between training and test: 3/4\n\n\nset.seed(123)\n\ndengue_split &lt;- dengue %&gt;%\n  initial_split(prop = 3/4, strata = CLASSI_FIN)\n\ndengue_train &lt;- training(dengue_split)\ndengue_test &lt;- testing(dengue_split)\n\nset.seed(234)\ndengue_folds &lt;- vfold_cv(dengue_train, strata = CLASSI_FIN)\n\n\n\nRecipes\n\ndengue_rec_1 &lt;- \n  recipe(CLASSI_FIN ~ . , data = dengue_train) %&gt;%\n  step_rm(COMUNINF) %&gt;%\n  step_rm(DT_SIN_PRI) %&gt;%\n  #step_date(DT_SIN_PRI, features = c(\"month\", \"week\", \"semester\", \"quarter\"), keep_original_cols = FALSE) %&gt;%\n  step_integer(all_predictors())\n\n\n\nSpecifications\n\nXGB\n\nxgb_spec &lt;-\n  boost_tree(\n    trees = tune(),\n    min_n = tune(),\n    mtry = tune()\n  ) %&gt;%\n  set_engine(\"xgboost\") %&gt;%\n  set_mode(\"classification\")\n\n\n\nDecision tree\n\ncart_spec &lt;-\n  decision_tree(\n    cost_complexity = tune(), \n    min_n = tune()\n  ) %&gt;% \n  set_engine(\"rpart\") %&gt;% \n  set_mode(\"classification\")\n\n\n\n\nWorkflows\n\nall_workflows &lt;- \n  workflow_set(\n    preproc = list(recipe_1 = dengue_rec_1),\n    models = list(xgb = xgb_spec, cart = cart_spec)\n  )\n\n\n\nTuning\n\ndoParallel::registerDoParallel()\n\nrace_ctrl &lt;- control_race(parallel_over = \"everything\")\n\ntic()\nrace_results &lt;- \n  all_workflows %&gt;%\n  workflow_map(\n    \"tune_race_anova\",\n    seed = 345,\n    resamples = dengue_folds,\n    grid = 10,\n    control = race_ctrl\n  )\n\ni Creating pre-processing data to finalize unknown parameter: mtry\n\ntoc()\n\n1867.215 sec elapsed\n\n\n\nRace metrics\n\ntrain_rank_results &lt;- rank_results(race_results, rank_metric = \"roc_auc\")\n\ntrain_rank_results\n\n# A tibble: 4 × 9\n  wflow_id      .config     .metric  mean std_err     n preprocessor model  rank\n  &lt;chr&gt;         &lt;chr&gt;       &lt;chr&gt;   &lt;dbl&gt;   &lt;dbl&gt; &lt;int&gt; &lt;chr&gt;        &lt;chr&gt; &lt;int&gt;\n1 recipe_1_xgb  Preprocess… accura… 0.621 7.98e-4    10 recipe       boos…     1\n2 recipe_1_xgb  Preprocess… roc_auc 0.634 8.22e-4    10 recipe       boos…     1\n3 recipe_1_cart Preprocess… accura… 0.615 5.03e-4    10 recipe       deci…     2\n4 recipe_1_cart Preprocess… roc_auc 0.624 7.14e-4    10 recipe       deci…     2\n\n\n\nautoplot(race_results, metric = \"roc_auc\")\n\n\n\n\n\n\n\nLast fit\n\nselection_train &lt;- train_rank_results %&gt;%\n  arrange(-mean) %&gt;%\n  pull(wflow_id) %&gt;%\n  first()\n\nselection_train\n\n[1] \"recipe_1_xgb\"\n\n\n\nbest_results &lt;- race_results %&gt;%\n  extract_workflow_set_result(selection_train) %&gt;%\n  select_best(\"accuracy\")\n\nbest_results\n\n# A tibble: 1 × 4\n   mtry trees min_n .config              \n  &lt;int&gt; &lt;int&gt; &lt;int&gt; &lt;chr&gt;                \n1     3   174     8 Preprocessor1_Model02\n\n\n\nlast_fit &lt;- race_results %&gt;%\n  extract_workflow(selection_train) %&gt;%\n  finalize_workflow(best_results) %&gt;%\n  last_fit(dengue_split)\n\n\n\nEvaluate on test\n\ncollect_metrics(last_fit)\n\n# A tibble: 2 × 4\n  .metric  .estimator .estimate .config             \n  &lt;chr&gt;    &lt;chr&gt;          &lt;dbl&gt; &lt;chr&gt;               \n1 accuracy binary         0.621 Preprocessor1_Model1\n2 roc_auc  binary         0.635 Preprocessor1_Model1\n\n\n\ncollect_predictions(last_fit) %&gt;%\n    conf_mat(CLASSI_FIN, .pred_class)\n\n          Truth\nPrediction FALSE  TRUE\n     FALSE 16535 10711\n     TRUE  36701 61054\n\n\n\nlast_fit %&gt;%\n  extract_fit_engine() %&gt;%\n  vip()"
  },
  {
    "objectID": "dengue-model/dengue_classification_symptoms_conditions_multi.html#session-info",
    "href": "dengue-model/dengue_classification_symptoms_conditions_multi.html#session-info",
    "title": "Dengue case classification",
    "section": "Session info",
    "text": "Session info\n\nsessionInfo()\n\nR version 4.1.2 (2021-11-01)\nPlatform: x86_64-pc-linux-gnu (64-bit)\nRunning under: Ubuntu 22.04.2 LTS\n\nMatrix products: default\nBLAS:   /usr/lib/x86_64-linux-gnu/blas/libblas.so.3.10.0\nLAPACK: /usr/lib/x86_64-linux-gnu/lapack/liblapack.so.3.10.0\n\nlocale:\n [1] LC_CTYPE=pt_BR.UTF-8       LC_NUMERIC=C              \n [3] LC_TIME=en_US.UTF-8        LC_COLLATE=en_US.UTF-8    \n [5] LC_MONETARY=en_US.UTF-8    LC_MESSAGES=en_US.UTF-8   \n [7] LC_PAPER=en_US.UTF-8       LC_NAME=C                 \n [9] LC_ADDRESS=C               LC_TELEPHONE=C            \n[11] LC_MEASUREMENT=en_US.UTF-8 LC_IDENTIFICATION=C       \n\nattached base packages:\n[1] stats     graphics  grDevices utils     datasets  methods   base     \n\nother attached packages:\n [1] rpart_4.1.16       rlang_1.1.1        xgboost_1.7.5.1    vip_0.3.2         \n [5] tictoc_1.2         bonsai_0.2.1       finetune_1.1.0     yardstick_1.2.0   \n [9] workflowsets_1.0.1 workflows_1.1.3    tune_1.1.1         rsample_1.1.1     \n[13] recipes_1.0.6      parsnip_1.1.0      modeldata_1.1.0    infer_1.0.4       \n[17] dials_1.2.0        scales_1.2.1       broom_1.0.5        tidymodels_1.1.0  \n[21] knitr_1.43         arrow_12.0.1       lubridate_1.9.2    forcats_1.0.0     \n[25] stringr_1.5.0      dplyr_1.1.2        purrr_1.0.1        readr_2.1.4       \n[29] tidyr_1.3.0        tibble_3.2.1       ggplot2_3.4.2      tidyverse_2.0.0   \n\nloaded via a namespace (and not attached):\n [1] nlme_3.1-155        bit64_4.0.5         doParallel_1.0.17  \n [4] DiceDesign_1.9      tools_4.1.2         backports_1.4.1    \n [7] utf8_1.2.3          R6_2.5.1            colorspace_2.1-0   \n[10] nnet_7.3-17         withr_2.5.0         gridExtra_2.3      \n[13] tidyselect_1.2.0    bit_4.0.5           compiler_4.1.2     \n[16] cli_3.6.1           labeling_0.4.2      digest_0.6.33      \n[19] minqa_1.2.5         rmarkdown_2.23      pkgconfig_2.0.3    \n[22] htmltools_0.5.5     lme4_1.1-34         parallelly_1.36.0  \n[25] lhs_1.1.6           fastmap_1.1.1       htmlwidgets_1.6.2  \n[28] rstudioapi_0.15.0   farver_2.1.1        generics_0.1.3     \n[31] jsonlite_1.8.7      magrittr_2.0.3      Matrix_1.6-0       \n[34] Rcpp_1.0.11         munsell_0.5.0       fansi_1.0.4        \n[37] GPfit_1.0-8         lifecycle_1.0.3     furrr_0.3.1        \n[40] stringi_1.7.12      yaml_2.3.7          MASS_7.3-55        \n[43] grid_4.1.2          parallel_4.1.2      listenv_0.9.0      \n[46] lattice_0.20-45     splines_4.1.2       hms_1.1.3          \n[49] pillar_1.9.0        boot_1.3-28         future.apply_1.11.0\n[52] codetools_0.2-18    glue_1.6.2          evaluate_0.21      \n[55] data.table_1.14.8   nloptr_2.0.3        vctrs_0.6.3        \n[58] tzdb_0.4.0          foreach_1.5.2       gtable_0.3.3       \n[61] future_1.33.0       assertthat_0.2.1    xfun_0.39          \n[64] gower_1.0.1         prodlim_2023.03.31  class_7.3-20       \n[67] survival_3.2-13     timeDate_4022.108   iterators_1.0.14   \n[70] hardhat_1.3.0       lava_1.7.2.1        timechange_0.2.0   \n[73] globals_0.16.2      ellipsis_0.3.2      ipred_0.9-14"
  },
  {
    "objectID": "dengue-model/dengue_ts_overview.html",
    "href": "dengue-model/dengue_ts_overview.html",
    "title": "Modeling overview",
    "section": "",
    "text": "flowchart TD\n    Y0[Dengue data] --&gt; | Filter municipalities \\n with 100k inhab| Y[Subset dengue data]\n    X1[Weather data]\n    X2[Other covariates]\n    X1 --&gt; A[Dataset]\n    X2 --&gt; A\n    Y --&gt; B[Clustering algorithm \\n assign k partitions] \n    B --&gt; |Add cluster ID \\n variable| A\n    A --&gt; A2[Time lag \\n outcome and predictors]\n    A2 --&gt; |Drop date variable| D{Split}\n    D --&gt; E[Train dataset]\n    D --&gt; F[Test dataset]\n    E --&gt; G[Global model \\n specification]\n    G --&gt; |Drop \\ncluster ID| H[Tune hyperparameters]\n    E --&gt; I[Subsets k  \\nmodel specification]\n    I --&gt; |k models| H\n    H --&gt; J[Predict with \\n global model training]\n    F --&gt; J\n    H --&gt; K[Predict with k \\n subsets trainings]\n    F --&gt; K\n    J --&gt; L[Collect metrics for each municipality \\n and compare models performance]\n    K --&gt; L\n\n\n\n\n\n\n\n\n Back to top"
  }
]